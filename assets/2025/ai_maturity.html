<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Maturity Self-Assessment</title>
    <!-- Google Fonts: Open Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300;1,400;1,600;1,700;1,800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- ================================================
         CSS STYLES
         Customize theme colors, spacing, fonts here
         ================================================ -->
    <style>
      /* ========================================
         THEME CUSTOMIZATION
         Change these variables to customize appearance
         ======================================== */
      :root {
        /* Catppuccin Latte Theme Colors */
        --cat-base: #eff1f5;
        --cat-crust: #dce0e8;
        --cat-surface0: #ccd0da;
        --cat-surface1: #bcc0cc;
        --cat-surface2: #acb0be;
        --cat-text: #4c4f69;
        --cat-subtext0: #6c6f85;
        --cat-subtext1: #5c5f77;
        --cat-overlay0: #9ca0b0;
        --cat-overlay1: #8c8fa1;
        --cat-overlay2: #7c7f93;
        --cat-blue: #1e66f5;
        --cat-lavender: #7287fd;
        --cat-sapphire: #209fb5;
        --cat-teal: #179299;
        --cat-green: #40a02b;
        --cat-yellow: #df8e1d;
        --cat-peach: #fe640b;
        --cat-maroon: #e64553;
        --cat-red: #d20f39;
        --cat-mauve: #8839ef;
        --cat-pink: #ea76cb;
        --cat-rosewater: #dc8a78;

        /* Header Colors (matching druce.ai main site) */
        --header-navy: rgba(17, 17, 85, 0.8);
        --header-text: #ffffff;
        --header-hover: #ff8f26;

        /* Semantic Colors */
        --color-primary: var(--cat-blue);
        --color-primary-hover: var(--cat-lavender);
        --color-danger: var(--cat-red);
        --color-danger-hover: var(--cat-maroon);
        --color-success: var(--cat-green);
        --color-warning: var(--cat-yellow);

        /* Stage Colors */
        --color-stage-crawl: #0d0887;
        --color-stage-walk: #7201a8;
        --color-stage-run: #bd3786;
        --color-stage-fly: #ed7953;

        /* Spacing Scale */
        --space-xs: 4px;
        --space-sm: 8px;
        --space-md: 15px;
        --space-lg: 20px;
        --space-xl: 30px;

        /* Typography */
        --font-scale: 0.875; /* Adjust this to experiment: 0.75=12px, 0.875=14px, 1.0=16px */
        --font-family:
          "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
        --font-size-base: calc(16px * var(--font-scale));
        --font-size-sm: 0.9em;
        --font-size-lg: 1.1em;
        --font-size-xl: 1.5em;
        --font-size-xxl: 2em;

        /* Layout */
        --max-width: 1600px;
        --border-radius: 8px;
        --border-radius-sm: 6px;
        --border-radius-lg: 12px;

        /* Shadows */
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.3);

        /* Z-index scale */
        --z-modal: 2000;
        --z-wizard: 1000;
      }

      /* ========================================
         RESET & BASE STYLES
         ======================================== */
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-family);
        font-size: var(--font-size-base);
        color: var(--cat-text);
        background: white;
        line-height: 1.6;
      }

      /* ========================================
         HEADER
         ======================================== */
      .site-header {
        padding: var(--space-md) var(--space-lg);
        background: var(--header-navy);
        border-bottom: none;
        display: flex;
        justify-content: space-between;
        align-items: center;
        min-height: 59px;
      }

      .site-header a {
        color: var(--header-text);
        text-decoration: none;
        font-weight: 600;
        font-size: 26px;
        letter-spacing: -1px;
        transition: color 0.2s ease;
      }

      .site-header a:hover {
        color: var(--header-hover);
      }

      .site-copyright {
        color: var(--header-text);
        font-size: var(--font-size-sm);
      }

      /* ========================================
         LAYOUT
         ======================================== */
      .app-container {
        max-width: var(--max-width);
        margin: 0 auto;
        padding: var(--space-lg);
        padding-bottom: 120px;
      }

      h1 {
        text-align: center;
        color: var(--cat-text);
        margin-bottom: 10px;
        font-size: var(--font-size-xxl);
      }

      .subtitle {
        text-align: center;
        color: var(--cat-subtext0);
        margin-bottom: var(--space-xl);
        font-size: var(--font-size-lg);
      }

      .main-panels {
        display: grid;
        grid-template-columns: 1fr;
        gap: var(--space-xl);
        margin-bottom: var(--space-xl);
      }

      @media (min-width: 1200px) {
        .main-panels {
          grid-template-columns: 1fr 1fr;
        }
      }

      .chart-panel,
      .questionnaire-panel {
        background: white;
        border-radius: var(--border-radius-lg);
        padding: var(--space-xl);
        box-shadow: var(--shadow-md);
      }

      /* ========================================
         CHART
         ======================================== */
      .chart-container {
        position: relative;
        height: 500px;
        margin-bottom: var(--space-xl);
        background: white;
        border-radius: var(--border-radius);
      }

      .chart-container canvas {
        cursor: pointer;
      }

      .chart-summary {
        margin-top: var(--space-xl);
        padding: var(--space-lg);
        background: white;
        border-radius: var(--border-radius);
      }

      .overall-score {
        text-align: center;
        font-size: 1.3em;
        font-weight: 700;
        color: var(--cat-text);
        margin-bottom: var(--space-lg);
      }

      .score-label {
        display: inline-block;
        padding: var(--space-xs) 12px;
        border-radius: var(--border-radius-sm);
        font-weight: 600;
        font-size: var(--font-size-sm);
        margin-left: var(--space-sm);
      }

      .stage-crawl {
        background: var(--color-stage-crawl);
        color: var(--cat-base);
      }

      .stage-walk {
        background: var(--color-stage-walk);
        color: var(--cat-base);
      }

      .stage-run {
        background: var(--color-stage-run);
        color: var(--cat-base);
      }

      .stage-fly {
        background: var(--color-stage-fly);
        color: var(--cat-base);
      }

      /* ========================================
         DIMENSION COLORS
      .color-leadership {
        color: rgb(20, 48, 109);
      }
      .color-team {
        color: rgb(39, 49, 135);
      }
      .color-data {
        color: rrgb(59, 52, 155);
      }
      .color-tech {
        color: rgb(80, 58, 154);
      }
      .color-observability {
        color: rgb(99, 65, 151);
      }
      .color-governance {
        color: rgb(116, 73, 146);
      }
      .color-security {
        color: rgb(133, 80, 141);
      }
      .color-training {
        color: rgb(150, 86, 137);
      }
      .color-analytics {
        color: rgb(167, 92, 131);
      }
      .color-use-cases {
        color: rgb(185, 98, 124);
      }
      .color-partnerships {
        color: rgb(203, 104, 114);
      }
      .color-process {
        color: rgb(219, 111, 101);
      }
         ======================================== */

      .color-leadership {
        color: var(--cat-blue);
      } /* Red */
      .color-team {
        color: var(--cat-lavender);
      } /* Dark red */
      .color-data {
        color: var(--cat-mauve);
      } /* Orange */
      .color-tech {
        color: var(--cat-pink);
      } /* Yellow */
      .color-observability {
        color: var(--cat-rosewater);
      } /* Green */
      .color-governance {
        color: var(--cat-red);
      } /* Teal */
      .color-security {
        color: var(--cat-teal);
      } /* Cyan */
      .color-training {
        color: var(--cat-sapphire);
      } /* Blue */
      .color-analytics {
        color: var(--cat-maroon);
      } /* Light purple */
      .color-use-cases {
        color: var(--cat-peach);
      } /* Purple */
      .color-partnerships {
        color: var(--cat-yellow);
      } /* Magenta */
      .color-process {
        color: var(--cat-green);
      } /* Pink-beige */
      /* ========================================
         TABLE
         ======================================== */
      .dimensions-table {
        width: 100%;
        font-size: var(--font-size-sm);
      }

      .dimensions-table th {
        text-align: left;
        padding: var(--space-sm);
        color: var(--cat-subtext1);
        font-weight: 600;
        border-bottom: 2px solid var(--cat-overlay0);
      }

      .dimensions-table td {
        padding: var(--space-sm);
        border-bottom: 1px solid var(--cat-overlay0);
      }

      .dimensions-table tr {
        cursor: pointer;
        transition: background-color 0.2s ease;
      }

      .dimensions-table tr:hover {
        background-color: rgba(30, 102, 245, 0.05);
      }

      .dimension-score {
        font-weight: 600;
        color: var(--cat-text);
      }

      /* ========================================
         QUESTIONNAIRE
         ======================================== */
      .dimension-header {
        font-weight: 600;
        margin-bottom: var(--space-lg);
        padding-bottom: var(--space-md);
        border-bottom: 3px solid var(--color-primary);
      }

      .dimension-title {
        font-size: var(--font-size-xl);
        margin-bottom: var(--space-sm);
        /* color controlled by .color-{dimension} class */
      }

      .dimension-description {
        color: var(--cat-subtext0);
        font-size: 0.95em;
        line-height: 1.5;
      }

      .dimension-current-score {
        margin-top: 10px;
        font-size: var(--font-size-lg);
        font-weight: 600;
        /* color controlled by .color-{dimension} class */
      }

      .help-content {
        display: block;
        margin-top: var(--space-md);
        padding: var(--space-md);
        background: white;
        border-radius: var(--border-radius);
        color: var(--cat-subtext1);
        border: 1px solid var(--cat-overlay0);
      }

      /* ========================================
         LEVEL SECTIONS
         ======================================== */
      .level-section {
        margin-bottom: var(--space-lg);
        padding: var(--space-lg);
        background: white;
        border-radius: var(--border-radius);
        border-left: 4px solid var(--cat-overlay0);
        border-right: 1px solid var(--cat-overlay0);
        border-top: 1px solid var(--cat-overlay0);
        border-bottom: 1px solid var(--cat-overlay0);
      }

      .level-section.locked {
        opacity: 0.5;
        pointer-events: none;
      }

      .level-section.level-1 {
        border-left-color: var(--color-stage-crawl);
      }
      .level-section.level-2 {
        border-left-color: var(--color-stage-walk);
      }
      .level-section.level-3 {
        border-left-color: var(--color-stage-run);
      }
      .level-section.level-4 {
        border-left-color: var(--color-stage-fly);
      }

      .level-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--space-md);
      }

      .level-title {
        font-size: var(--font-size-lg);
        font-weight: 600;
        color: var(--cat-text);
      }

      .level-status {
        font-size: 0.85em;
        padding: var(--space-xs) 10px;
        border-radius: var(--space-xs);
        font-weight: 600;
      }

      .status-locked {
        background: var(--cat-overlay0);
        color: var(--cat-subtext1);
      }

      .status-unlocked {
        background: var(--color-success);
        color: var(--cat-base);
      }

      /* ========================================
         QUESTIONS
         ======================================== */
      .question-item {
        margin-bottom: var(--space-lg);
      }

      .question-text {
        font-weight: 500;
        color: var(--cat-text);
        margin-bottom: var(--space-sm);
      }

      .slider-wrapper {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }

      .slider-container {
        display: flex;
        align-items: center;
        gap: var(--space-md);
      }

      input[type="range"] {
        flex: 1;
        height: 8px;
        border-radius: 5px;
        background: var(--cat-overlay0);
        outline: none;
        -webkit-appearance: none;
        appearance: none;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--color-primary);
        cursor: pointer;
        box-shadow: var(--shadow-sm);
      }

      input[type="range"]::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--color-primary);
        cursor: pointer;
        border: none;
        box-shadow: var(--shadow-sm);
      }

      .slider-ticks {
        display: flex;
        justify-content: space-between;
        font-size: 0.75em;
        color: var(--cat-subtext0);
        padding: 0 2px;
        margin-right: 155px;
      }

      .value-display {
        min-width: 140px;
        text-align: right;
        font-weight: 600;
        color: var(--cat-subtext1);
        font-size: var(--font-size-sm);
      }

      /* ========================================
         WIZARD BAR
         ======================================== */
      .wizard-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        border-top: 2px solid var(--cat-overlay0);
        padding: var(--space-md) var(--space-lg);
        box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.05);
        z-index: var(--z-wizard);
      }

      .wizard-content {
        max-width: var(--max-width);
        margin: 0 auto;
      }

      .wizard-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 12px;
      }

      .wizard-title {
        font-weight: 600;
        color: var(--cat-text);
        font-size: var(--font-size-base);
      }

      .progress-info {
        font-size: var(--font-size-sm);
        color: var(--cat-subtext0);
      }

      .progress-bar-container {
        width: 100%;
        height: 8px;
        background: var(--cat-overlay0);
        border-radius: var(--space-xs);
        margin-bottom: var(--space-md);
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(
          90deg,
          var(--cat-blue) 0%,
          var(--cat-mauve) 100%
        );
        transition: width 0.3s ease;
      }

      .wizard-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: var(--space-lg);
      }

      .nav-buttons {
        display: flex;
        gap: 10px;
      }

      .wizard-steps {
        display: flex;
        gap: var(--space-sm);
        flex-wrap: wrap;
        flex: 1;
        justify-content: center;
      }

      .step-indicator {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: var(--cat-overlay0);
        color: var(--cat-subtext0);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
        border: 2px solid transparent;
      }

      .step-indicator:hover {
        transform: scale(1.1);
      }

      .step-indicator.active {
        background: var(--color-primary);
        color: var(--cat-base);
        border-color: var(--cat-lavender);
      }

      .step-indicator.completed {
        background: var(--color-success);
        color: var(--cat-base);
      }

      /* Custom tooltips for step indicators */
      .step-indicator[data-tooltip] {
        position: relative;
      }

      .step-indicator[data-tooltip]::after {
        /* Tooltip content box */
        content: attr(data-tooltip);
        position: absolute;
        bottom: calc(100% + 12px); /* Position above button with 12px gap */
        left: 50%;
        transform: translateX(-50%);

        /* Box styling */
        background: var(--cat-surface0);
        color: var(--cat-text);
        padding: 6px 12px;
        border-radius: var(--border-radius-sm);
        font-size: var(--font-size-sm);
        font-weight: 400;
        white-space: nowrap;

        /* Shadow for depth */
        box-shadow: var(--shadow-md);
        border: 1px solid var(--cat-overlay1);

        /* Initially hidden */
        opacity: 0;
        pointer-events: none;

        /* Smooth transition */
        transition:
          opacity 0.2s ease,
          transform 0.2s ease;

        /* Z-index to appear above other elements */
        z-index: 100;
      }

      .step-indicator[data-tooltip]::before {
        /* Tooltip arrow pointing down */
        content: "";
        position: absolute;
        bottom: calc(100% + 6px); /* Position just below tooltip box */
        left: 50%;
        transform: translateX(-50%);

        /* Triangle using borders */
        border: 6px solid transparent;
        border-top-color: var(--cat-surface0);

        /* Initially hidden */
        opacity: 0;
        pointer-events: none;

        /* Smooth transition */
        transition:
          opacity 0.2s ease,
          transform 0.2s ease;

        /* Z-index */
        z-index: 100;
      }

      .step-indicator[data-tooltip]:hover::after,
      .step-indicator[data-tooltip]:hover::before {
        opacity: 1;
        transform: translateX(-50%) translateY(-2px); /* Slight upward movement on appear */
      }

      /* ========================================
         BUTTONS
         ======================================== */
      button {
        padding: 10px var(--space-lg);
        font-size: 0.95em;
        font-weight: 600;
        border: none;
        border-radius: var(--border-radius-sm);
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: var(--shadow-sm);
      }

      button:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }

      button:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      .btn-primary {
        background: var(--color-primary);
        color: var(--cat-base);
      }

      .btn-primary:hover:not(:disabled) {
        background: var(--color-primary-hover);
      }

      .btn-secondary {
        background: var(--color-primary);
        color: var(--cat-base);
      }

      .btn-secondary:hover:not(:disabled) {
        background: var(--color-primary-hover);
      }

      .btn-danger {
        background: var(--color-danger);
        color: var(--cat-base);
      }

      .btn-danger:hover:not(:disabled) {
        background: var(--color-danger-hover);
      }

      .btn-subtle {
        background: var(--cat-surface2);
        color: var(--cat-text);
        border: 1px solid var(--cat-overlay0);
      }

      .btn-subtle:hover:not(:disabled) {
        background: var(--cat-surface1);
        border-color: var(--cat-overlay1);
      }

      .action-buttons {
        display: flex;
        justify-content: center;
        gap: var(--space-md);
        margin-top: var(--space-xl);
        flex-wrap: wrap;
      }

      /* ========================================
         MODAL
         ======================================== */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(76, 79, 105, 0.7);
        z-index: var(--z-modal);
        align-items: center;
        justify-content: center;
      }

      .modal-overlay.visible {
        display: flex;
      }

      .modal {
        background: white;
        border-radius: var(--border-radius-lg);
        padding: var(--space-xl);
        max-width: 500px;
        width: 90%;
        box-shadow: var(--shadow-lg);
      }

      .modal-title {
        font-size: var(--font-size-xl);
        font-weight: 700;
        color: var(--cat-text);
        margin-bottom: var(--space-md);
      }

      .modal-text {
        color: var(--cat-subtext1);
        margin-bottom: 25px;
        line-height: 1.6;
      }

      .modal-buttons {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
      }

      /* ========================================
         PRINT STYLES
         ======================================== */
      @media print {
        body {
          background: white;
        }

        .wizard-bar,
        .action-buttons,
        .nav-buttons,
        button {
          display: none !important;
        }

        .app-container {
          padding-bottom: 0;
        }

        .main-panels {
          display: block;
        }

        .chart-panel,
        .questionnaire-panel {
          box-shadow: none;
          page-break-inside: avoid;
        }

        .chart-container {
          height: 400px;
        }

        .level-section {
          page-break-inside: avoid;
        }
      }

      /* ========================================
         MOBILE RESPONSIVE
         ======================================== */
      @media (max-width: 768px) {
        .app-container {
          padding: 10px;
          padding-bottom: 140px;
        }

        h1 {
          font-size: 1.5em;
        }

        .chart-container {
          height: 350px;
        }

        .wizard-steps {
          gap: 5px;
        }

        .step-indicator {
          width: 28px;
          height: 28px;
          font-size: 0.7em;
        }

        /* Smaller tooltip on mobile */
        .step-indicator[data-tooltip]::after {
          font-size: 0.65rem; /* Smaller text */
          padding: 4px 8px; /* Less padding */
          max-width: 200px; /* Limit width */
          white-space: normal; /* Allow wrapping if needed */
          text-align: center; /* Center wrapped text */
        }

        /* Smaller arrow on mobile */
        .step-indicator[data-tooltip]::before {
          border-width: 5px; /* Smaller arrow */
        }

        .wizard-header {
          flex-direction: column;
          align-items: flex-start;
          gap: 5px;
        }

        .slider-container {
          flex-direction: column;
          align-items: stretch;
        }

        .slider-ticks {
          margin-right: 0;
        }

        .value-display {
          text-align: left;
          margin-top: 5px;
        }
      }
    </style>
  </head>

  <body>
    <!-- ================================================
         HTML STRUCTURE
         ================================================ -->
    <header class="site-header">
      <a href="https://druce.ai/about.html#projects">Druce.ai</a>
      <div class="site-copyright">
        &copy; 2026 Druce Vertes. All rights reserved.
      </div>
    </header>

    <div class="app-container">
      <h1>AI Maturity Self-Assessment</h1>
      <p>
        AI maturity measures the degree to which organizations have mastered
        AI-related capabilities to achieve operational excellence. AI maturity
        is not defined by tech tools alone, but by how effectively the
        organization can improve outcomes by orchestrating people, technology,
        data, and process. Organizations that successfully navigate AI
        transformation gain competitive advantages, operate with greater
        efficiency, increase velocity and respond faster to market changes,
        delivering more value creation.
      </p>
      <ul style="margin-left: 40px; margin-top: 15px">
        <li>
          <strong>Level 1 (Crawl):</strong> Initial unstructured exploration and
          planning.
        </li>
        <li>
          <strong>Level 2 (Walk):</strong> Structured learning, training,
          planning, foundation-laying, and initial POCs and pilots.
        </li>
        <li>
          <strong>Level 3 (Run):</strong> Operational deployment at scale, with
          robust infrastructure, governance, and security, and business value
          measured against KPIs.
        </li>
        <li>
          <strong>Level 4 (Fly):</strong> An AI-native organization where AI is
          central and pervasive, deploying advanced use cases like autonomous
          agents, advanced fine-tuned models, with continuous improvement and
          adoption of emerging capabilities.
        </li>
      </ul>

      <p style="margin-top: 15px">
        For each dimension, 50% completion of a level unlocks the next higher
        level.
      </p>
      <div class="main-panels" id="mainContent">
        <!-- CHART PANEL -->
        <div class="chart-panel">
          <div class="chart-container">
            <canvas id="radarChart"></canvas>
          </div>

          <div class="chart-summary">
            <div class="overall-score" id="overallScore">
              Overall Maturity: <span id="overallValue">0.00</span> / 4.0
              <span id="overallLabel" class="score-label stage-crawl"
                >Not Started</span
              >
            </div>

            <table class="dimensions-table">
              <thead>
                <tr>
                  <th>Dimension</th>
                  <th>Score</th>
                  <th>Stage</th>
                </tr>
              </thead>
              <tbody id="dimensionsTableBody">
                <!-- Populated by JavaScript -->
              </tbody>
            </table>
          </div>

          <div class="action-buttons">
            <button class="btn-subtle" id="resetBtn">Reset Assessment</button>
          </div>
        </div>

        <!-- QUESTIONNAIRE PANEL -->
        <div class="questionnaire-panel">
          <div id="questionnaireContent">
            <!-- Populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <!-- WIZARD NAVIGATION BAR -->
    <div class="wizard-bar">
      <div class="wizard-content">
        <div class="wizard-header">
          <div class="wizard-title" id="wizardTitle">
            1 / 12: Strategic Vision
          </div>
          <div class="progress-info" id="progressInfo">0% Complete</div>
        </div>

        <div class="progress-bar-container">
          <div class="progress-bar" id="progressBar" style="width: 0%"></div>
        </div>

        <div class="wizard-controls">
          <div class="nav-buttons">
            <button class="btn-secondary" id="prevBtn" disabled>
              ← Previous
            </button>
          </div>

          <div class="wizard-steps" id="wizardSteps">
            <!-- Populated by JavaScript -->
          </div>

          <div class="nav-buttons">
            <button class="btn-secondary" id="nextBtn">Next →</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL -->
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal">
        <div class="modal-title" id="modalTitle">Welcome Back</div>
        <div class="modal-text" id="modalText">
          We found a previous assessment. Would you like to continue where you
          left off?
        </div>
        <div class="modal-buttons" id="modalButtons">
          <!-- Populated by JavaScript -->
        </div>
      </div>
    </div>

    <!-- ================================================
         JAVASCRIPT - MVC ARCHITECTURE
         ================================================ -->

    <!-- ================================================
         SECTION 1: DATA MODEL
         Customize dimensions, questions, thresholds here
         ================================================ -->
    <script id="data-model">
      // Application version for tracking
      const APP_VERSION = "1.0.0";
      const SCHEMA_VERSION = 1;

      // Configuration - CUSTOMIZE THESE VALUES
      const CONFIG = {
        DIMENSION_COUNT: 12,
        LEVELS_PER_DIMENSION: 4,
        MAX_SLIDER_VALUE: 4,
        UNLOCK_THRESHOLD: 2.0, // 50% average to unlock next level
        STORAGE_KEY: "ai_maturity_assessment",
        STAGE_LABELS: ["Crawl", "Walk", "Run", "Fly"],
        ANSWER_LABELS: ["Not Started", "Started", "Partly", "Mostly", "Fully"],
      };

      // Dimensions data - CUSTOMIZE YOUR ASSESSMENT HERE
      const DIMENSIONS_DATA = {
        dimensions: [
          {
            id: 1,
            short: "Leadership",
            full: "Strategic Vision & Leadership",
            description:
              "Strategic vision and leadership commitment to AI initiatives across the organization.",
            helpText:
              "This dimension assesses how AI is incorporated into the organization's strategic planning, the level of executive sponsorship, and the clarity of AI-related goals and objectives.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are rank-and-file employees exploring the use of AI tools on their own initiative?",
                  "Is management discussing potential applications of AI?",
                  "Has leadership started assessing how AI can benefit the business?",
                  {
                    text: "How often does leadership discuss AI in strategic meetings?",
                    answerLabels: [
                      "Never",
                      "Rarely",
                      "Sometimes",
                      "Often",
                      "Always",
                    ],
                  },
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Has the firm set a bold vision for AI anchored in business outcomes, with engaged, visible sponsorship from senior leadership?",
                  "Is there an AI steering committee with a transparent process for selecting AI initiatives, incorporating business functions, legal, HR, compliance, IT, CISO, and other relevant stakeholders?",
                  "Are use cases and value creation opportunities ranked by suitability: impact, effort, risk, and learning/transferability?",
                  "Has leadership selected use cases for initial POCs?",
                  "Do initial pilot use cases have specific, measurable, achievable, relevant, and time-bound (SMART) AI business objectives?",
                  "Has the organization allocated a budget for AI initiatives?",
                  "Do initial pilots have a compelling business case to ensure key stakeholders understand the 'why', and AI projects align with their needs and expectations?",
                  {
                    text: "What percentage of leadership team members actively champion AI initiatives?",
                    answerLabels: ["0%", "25%", "50%", "75%", "100%"],
                  },
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Is leadership championing AI as a strategic priority?",
                  "Does leadership have a comprehensive medium-term AI roadmap with clear timelines and KPI targets, including ROI and adoption?",
                  "Has leadership budgeted Change-the-Business spending vs. Run-the-Business spending, commensurate with the step-change in technology?",
                  "Are technical teams, business leaders, and frontline employees well aligned to maximize AI effectiveness?",
                  "Are AI objectives integrated into departmental and individual performance goals?",
                  "Is there regular leadership review of AI initiative progress, KPIs, and outcomes?",
                ],
              },
              {
                level: 4,
                name: "Fly - broad adoption, a nimble AI-first institution",
                questions: [
                  "Are AI capabilities central to the organization's competitive advantage?",
                  "Does leadership have a long-term strategy, deeply embedded in the organization's culture, processes, and technology stack?",
                  "Are there success metrics linked to the strategy, with a structured evaluation frameworks?",
                  "Is there a Chief AI Officer or other C-level individual responsible for AI leadership?",
                  "Does the leadership and board regularly review AI strategy and competitive positioning?",
                  "Does leadership guide decisions with a strong understanding of AI strategic opportunities and challenges, legal and ethical risk management, technical and data capabilities and requirements?",
                  "Is the company culture AI-first with AI well-integrated, strategic, transformative, and pervasive?",
                ],
              },
            ],
          },
          {
            id: 2,
            short: "Team",
            full: "Teams, Talent, Organizational Design",
            description:
              "AI talent, team structure, and organizational readiness for AI adoption. A good team wants to work with other good people, and with the best tools, so a strong team is the critical element to kickstart an AI success flywheel.",
            helpText:
              "AI adoption is a people-first transformation. Invest in recruitment, training, deploying a central AI team, cross-functional implementation teams, and AI skills at all levels. Allocate resources strategically: often as much as 70% on people and processes, against 30% on technology and data.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are individuals using AI tools without structure or coordination?",
                  "Is there self-taught AI talent without designated roles?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Has the firm evaluated the organization's AI skill gaps and developed a plan to address them?",
                  "Is there a plan to build a central team with AI and cross-functional implementation expertise, or to organize roles and team structures to support AI initiatives?",
                  "Has an AI component been added as necessary to all job descriptions and staffing requirements?",
                  "Has the firm developed a recruitment/retention plan and identified strong recruiting partners for AI talent?",
                  "Has the firm identified and empowered AI champions for training as front-line AI and subject-matter experts?",
                  "Is the firm celebrating and sharing learnings, wins, and new best practices implemented?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Is there a dedicated AI team or center of excellence?",
                  "Are there lean, multifunctional AI teams with roles like Technical Lead, Data Engineer, and Domain Knowledge Expert/Product Manager, responsible for productionizing AI?",
                  "Is there a clear career path for AI-specific roles?",
                  "Are AI champions embedded at all levels across business units?",
                  "Are rank-and-file team members empowered to build grass-roots workflows and no-code applications using AI?",
                  "Are experiments, implementation milestones, and innovations celebrated and learnings disseminated?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Is there a regular AI talent pipeline through academic recruiting and internships?",
                  "Is there an AI-first culture of innovation?",
                  "Does the company have a strong AI engineering team and culture?",
                  "Is AI talent and expertise pervasive throughout the organization?",
                  "Are teams able to restructure around AI automation?",
                ],
              },
            ],
          },
          {
            id: 3,
            short: "Data",
            full: "Data Engineering & Quality",
            description:
              "Data infrastructure, quality, governance, and availability for AI applications. High-quality, well-governed data is the fuel for AI. You can build a tall tower but if the foundation is crumbling or superstructure is misaligned, you're gonna have a bad time",
            helpText:
              "AI success requires unified access to data and APIs. Organizations should transition from siloed data pipelines to reusable data products. Data governance should extend to unstructured data.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are employees primarily using individually downloaded and maintained data?",
                  "Are teams managing data islands in siloed spreadsheets and files, and exposing it to AI?",
                  "Is data quality managed informally or ad-hoc?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Has a data inventory been launched to identify data sources in use, catalog data types and formats, assess data quality and completeness, and map data flows and dependencies?",
                  "Are datasets being shared with AI tools being mapped, e.g, structured and unstructured data, file servers, databases, data lakes, etc.?",
                  "Is all data to be shared with AI tools being tagged for resource based access controls, a semantic layer AI can understand, and lineage/provenance back to original source?",
                  "Is data infrastructure ready to provide complete, accurate, timely, secure, scalable, well-catalogued data to AI?",
                  "Is the firm leveraging AI to build a central data engineering toolchain? (e.g. an enterprise data warehouse, Airflow, dbt, with ingestion, data quality and semantic layers?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Are data silos consolidated and organized in a data warehouse?",
                  "Has the firm started automating ingestion and analytical pipelines on recurrent schedules or triggers?",
                  "Have data sets been prioritized for exposure to natural language question answering, considering cost of time currently spent accessing them and the value of exposing data more efficiently to business users?",
                  "Has a data governance framework been launched, to achieve high quality, well catalogued, permissioned, single source of truth (e.g. data warehouse) for any data needed by AI?",
                  "Is a data quality layer being applied to data, starting with simple checks on the most valuable datasets and use cases?",
                  "If traditional ML is in use, have end-to-end continuous MLops training pipelines been deployed to regularly update models with new data?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Are there robust pipelines with automations, monitoring, and alerting for timely data ingestion and updating, to serve complete, accurate, timely, secure, scalable, well-catalogued data for AI?",
                  "Are comprehensive role-based and identity-based access controls in place across all data assets?",
                  "Do automated systems continuously validate and improve data quality?",
                  "Is data redacted and anonymized to enable analysis and insights without overpermissioning?",
                  "Do data pipelines have automatic anomaly detection, alerting, and self-healing?",
                  "Is the firm gathering long term interaction streams and full 'world models' to train future assistants?",
                  "Is the firm preparing for improved AI, AGI and superintelligence, and what data, guardrails future AI could leverage?",
                ],
              },
            ],
          },
          {
            id: 4,
            short: "Tech",
            full: "Technology Platforms & Infrastructure",
            description:
              "AI platforms, development infrastructure, and deployment capabilities.",
            helpText:
              "Assesses the technological foundation for AI, including platforms, tools, infrastructure scalability, and MLOps capabilities.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are employees using consumer-grade AI tools (ChatGPT, Claude, etc.)?",
                  "Is AI experimentation happening primarily on personal devices or accounts?",
                  "Is IT exploring formal AI infrastructure and monitoring?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Has the firm deployed 'horizontal' enterprise AI platforms with SSO and usage monitoring (e.g. Microsoft Copilot, ChatGPT Enterprise etc.)?",
                  "Are prompt libraries, and best practices documented and shared with users?",
                  "Has the firm chosen an integrated ecosystem / enterprise cloud infrastructure (Azure, Vertex, Bedrock) to implement AI capabilities, integrating into existing stacks, and scale across business units?",
                  "Do developers have access to enterprise coding IDEs and agentic assistants?",
                  "Has the firm begun to implement, test, and soft launch 'vertical' AI pilots and POCs, with systematic evaluation, user feedback loop, and deployment criteria?",
                  "Are no-code/low-code tools such as Microsoft Copilot Studio / Agent Studio available for business users to build simple automations?",
                  "Has the firm begun to pilot agentic solutions to specific tasks, including vertical SaaS solutions and in-house development using agent frameworks?",
                  "Has the firm selected an agent framework like OpenAI Agents SDK, Microsoft Agent Framework, LangChain for advanced agent development?",
                  "Has the firm implemented a standard AI output evaluation solution?",
                  "Has the firm made plans to link all resources to AI and replace legacy systems that hinder AI adoption with adaptable, AI-enabled architectures?",
                  "Has the firm begun to develop an integrated toolchain for building AI solutions, including coding assistants, agent frameworks, evaluation and testing frameworks, CI/CD, project management, bug reporting?",
                  "Has day-to-day automation begun for day-to-day IT help desk triage, support, troubleshooting, system admin, to allow AI skill-building and free teams to implement advanced AI workflows?",
                  "Is there strong separation between development/test/staging/production?",
                  "Are sandboxes available to run automated coding sessions in complete isolation to experiment without impacting either prod or dev?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Is there a robust, scalable AI tech infrastructure and platform for developing and deploying AI solutions at scale with defined SLAs?",
                  "Is there a standardized, integrated end-to-end AI development toolchain covering coding, testing, evaluation, deployment, observability, and incident management?",
                  "Is there a dev pipeline to move AI pilots into production efficiently, with robust automated testing and evaluation?",
                  "Are prompt libraries, reusable components, and best practices being developed and documented?",
                  "Are agent solutions easily discoverable by end-users via a directory/app store?",
                  "Is there a capability to build complex agent workflows, with high autonomy, context engineering, long- and short-term memory, parallel/concurrent multi-agent architectures?",
                  "Is the firm exploring advanced agentic architectures, swarms, inter-agent communication, MCP integrations, skills, advanced RAG. etc.?",
                  "Do production AI systems implement retry logic, fallbacks, and validation checks, composing reliable systems from unreliable components?",
                  "Are production AI systems monitored for anomalies and regressions?",
                  "Are there AI-powered CI/CD pipelines, with AI PR reviews and automated tests?",
                  "Do rank and file employees have the ability to to prototype AI workflows, that can then be scaled robustly and securely across the firm by IT?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Has the firm moved beyond bespoke 0 to 1 development, to AI-assisted industrialized delivery at scale?",
                  "Are prompts, model versions, tools, and configurations versioned and reproducible, is the full AI system state treated as a deployable artifact?",
                  "Is the firm using AI-driven DevOps to manage the full lifecycle of a large fleet of AI applications?",
                  "Is the firm using AI to deploy and maintain large numbers of robust AI-enabled apps with security, observability, scalability?",
                  "Does the firm have a repeatable, measured path from idea to production deployment, with predictable timelines (weeks not months) and resource requirements?",
                  "Is the firm implementing advanced capabilities like complex agent swarms, knowledge graphs, advanced RAG, stream processing?",
                  "Is the firm implementing autonomous agents, with evals and clear criteria for reliability, cost, and promotion to production?",
                  "Do business users have governed self-service platforms to build, test, and deploy AI workflows?",
                  "Has the firm implemented automated prompt optimization?",
                  "Is AI automation deployed on auto-scaling infrastructure?",
                  "Does the firm support multiple major AI platforms and clouds?",
                  "Has the firm developed the ability to do fine-tuning and train models, including local models for AI/data sovereignty",
                  "Is model performance degradation automatically detected, and are models automatically retrained based on performance degradation or drift detection?",
                ],
              },
            ],
          },
          {
            id: 5,
            short: "Observability",
            full: "Observability, Controls, Logging, Monitoring",
            description:
              "Monitoring, logging, performance tracking, and observability of AI systems.",
            helpText:
              "Measures the firm's ability to track AI usage, monitor performance, maintain logs and audit trails, and gain visibility into AI system operations.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Is AI usage monitored informally and incompletely?",
                  "Is success measured anecdotally (if at all)?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Is there a unified firmwide logging infrastructure, including immutable logging of AI system inputs and outputs where required?",
                  "Are there documented log retention policies?",
                  "Are logs reviewed regularly to understand adoption, track successes and identify common problems areas which can be improved?",
                  "Is the firm collecting broad usage metrics like number of users/queries/tokens, interactions per user by business function/intent?",
                  "Is the firm measuring leadership defined, meaningful KPIs aligned with enterprise goals?",
                  "Is the firm collecting surveys/vibe checks/user labeling of good/bad interactions?",
                  "Is there visibility into AI compute costs by team, use case, or application?",
                  "Do all AI interactions support auditability, and regulatory inquiries?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Are key metrics (number of queries, users, costs, etc.) available in daily reports and real-time dashboards?",
                  "Is there a centralized AI gateway between users/applications and LLM providers?",
                  "Is there a prompt management / versioning / evaluation / observability / telemetry solution",
                  "Is the firm able to do deep traces and perform failure analysis of complex workflows?",
                  "Are inference latency, throughput, and cost SLAs defined per workload and monitored with alerting?",
                  "Is feedback gathered systematically, fostering ongoing learning, refining use cases, and improving KPIs?",
                  "Is there real-time monitoring of model drift and data quality?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Do monitoring systems automatically trigger AI agentic workflows to research and remediate in addition to alerting?",
                  "Is there predictive alerting based on higher order derivatives and anomalies?",
                ],
              },
            ],
          },
          {
            id: 6,
            short: "Governance",
            full: "Governance",
            description:
              "AI governance policies, risk management, and regulatory compliance. AI governance isn't just a regulatory compliance requirement—it's a strategic enabler that allows businesses to scale AI confidently, minimize risks of uncontrolled adoption, and build trust with leadership and the user community.",
            helpText:
              "Evaluates governance frameworks, policies, ethical review processes, and compliance mechanisms for to ensure AI initiatives meet requirements, manage risks, and are aligned on objectives and priorities.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Have employees been made aware of potential AI-related risks?",
                  "Is management aware of all AI-specific compliance regulations and frameworks?",
                  "Is risk management for AI informal or non-existent?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Are there documented and communicated AI acceptable usage policies and recommended best-practice guidelines?",
                  "Has the firm inventoried all AI systems and classified systems by risk level based on data sensitivity and decision impact?",
                  "Has the firm inventoried applicable AI regulations in all jurisdictions it operates in, including SEC regs like Reg S-P, state legislation, EU AI Act?",
                  "Has the firm established clear ownership and accountability for AI governance (e.g., AI governance committee, responsible AI officer)?",
                  "Has the firm implemented basic input/output guardrails for highest-risk systems?",
                  "Has the firm begun to systematically assess governance standards such as the NIST Risk Management Framework and ISO standards 42001 and 23894?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Has the firm adopted published governance standards for data protection, privacy, responsible AI use, in whole or in part?",
                  "Are all AI projects subject to framework compliance review and risk assessment?",
                  "Is there a formal AI governance committee with regular meeting and review cadence?",
                  "Are AI vendor contracts reviewed for conformance, including liability, audit rights, data ownership, zero-day retention, training on firm data, and model rights?",
                  "Is IP protection systematically managed for AI-generated content?",
                  "Are business continuity and disaster recovery plans around AI regularly tested?",
                  "Have tabletop exercises been conducted to plan AI-related incident response?",
                  "Does the AI governance model appropriately balance centralized top-down oversight with decentralized bottom-up experimentation and delivery?",
                  "Is there documentation of AI decision-making processes for audit trails and explainability?",
                  "Automated, daily or real-time reporting of potential AI-detected compliance issues",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Are governance and risk management standards understood and implemented by 1st line creators, executors, operations and 2nd line managers and quality assurance?",
                  "Are governance standards reviewed by external auditors and supported by consultants as appropriate?",
                  "Are critical governance policies automatically enforced through technical controls?",
                  "Is there continuous compliance monitoring with automated reporting?",
                  "Is AI used to help governance and decision-making processes, reduce biases, and increase transparency?",
                ],
              },
            ],
          },
          {
            id: 7,
            short: "Security",
            full: "Security and Threat Management",
            description:
              "AI-specific security controls, threat awareness, and protective measures.",
            helpText:
              "Assesses security practices for AI systems, including data protection, threat detection, and AI-specific vulnerabilities.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are employees regularly made aware of the risks of hallucinations, sharing sensitive data with public AI tools, and required to self-certify with appropriate documentation like attestations?",
                  "Is there awareness of AI-specific security threats like deepfake impersonation, LLM phishing?",
                  "Are AI tools being adopted without security review by 'shadow IT' power users?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Has the firm conducted a threat modeling exercise specific to AI systems, covering most common threats like OWASP Top 10?",
                  "Are access controls enforced using RBAC/IAM with MFA for AI infrastructure?",
                  "Is sensitive data blocked by DLP and other measures from being shared with external AI tools; or are external AI tools fully blocked in favor of trusted enterprise AI (more secure)?",
                  "Are there AI-SPM, DSPM, and other security solutions in place to prevent AI-related security issues?",
                  "Are IT staff identified to manage risks like prompt injection and data leakage, and 'red teaming' to identify issues?",
                  "Are enterprise AI tools deployed with thoroughly reviewed and enhanced security configurations?",
                  "Has the firm updated employee training and phishing tests to protect against emerging AI-enhanced threats like smishing, vishing, spear-phishing, whaling, QRishing etc.",
                  "Is there a formal AI incident response playbook with defined escalation procedures?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Are AI assistants and tools deployed with comprehensive security controls like auto-redaction of MNPI or blocking of sensitive or problematic prompts, and rate-limiting and cost alerts?",
                  "Are all agents documented, restricted to least privilege, sandboxed, with appropriate guardrails and human in the loop escalation?",
                  "Are agents operating within an RBAC/IAM framework with least privilege and a standard set of guardrails?",
                  "Are threat intelligence feeds in place covering AI/ML attack patterns, and integration into detection?",
                  "Is the firm using AI for cyber defense, log monitoring and triage (AI SecOps)?",
                  "Are security controls integrated into the ML and CI/CD pipelines with automated scanning for vulnerabilities?",
                  "Is there continuous adversarial testing (automated red-teaming) of production AI systems?",
                  "Has the firm considered upgrading AI apps to more private deployment models: enterprise SaaS -> private cloud -> on-prem?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Do AI agents operate with non-human identity management in zero-trust security architectures?",
                  "Is security audited by a third party to conform to industry standards like NIST AI Risk Management Framework, OWASP LLM Security Checklist",
                  "Do AI-powered security tools have visibility into all systems to detect and respond autonomously to threats?",
                  "Are real-time threat intelligence feeds automatically integrated into detection?",
                ],
              },
            ],
          },
          {
            id: 8,
            short: "Training",
            full: "Training and Education",
            description:
              "AI training programs, education initiatives, and knowledge management.",
            helpText:
              "The highest-performing companies train every employee to leverage AI-driven insights in daily decision-making and cultivate an AI-first data-driven culture through training.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Is AI training limited to individual self-learning?",
                  "Are employees discovering and learning AI tools on their own?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Is there broad firm-wide AI training for all employees on AI basics, prompting, and best practices, including specific training for senior leaders?",
                  "Are all employees trained on all aspects of acceptable use policies?",
                  "Is human validation required of all AI-generated work, with training on how to validate all AI output, and never to accept potential hallucinations uncritically?",
                  "Does training attempt to overcome resistance and adoption barriers across different demographic groups (like among older workers, women who are less likely to adopt)?",
                  "Do IT employees have access to advanced training in data science, machine learning, and AI deployment to build in-house AI expertise?",
                  "Is there documentation of AI best practices and guidelines?",
                  "Are there online forums for sharing AI knowledge and use cases?",
                  "Are there regular in-person forums (lunch-and-learns, show-and-tells) for sharing AI use cases and best practices?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Are there defined learning paths for priority use cases and for different roles (analyst, PM, engineer, executive)?",
                  "Are case studies from actual firm AI workflows used in training?",
                  "Is there a formal certification program for internal AI competencies?",
                  "Is there continuous learning with regular AI training exercises, customized training based on user roles, and an emphasis on AI-first thinking for all workflows?",
                  "Is there an AI-enabled knowledge management system for AI practices and system documentation?",
                  "Can users share prompts and best practices through peer-to-peer knowledge sharing formalized through internal wikis, knowledgebases, and communities of practice?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Does the firm leverage multiple learning modalities (online platforms, video, MOOCs, hands-on labs), with custom firm curricula?",
                  "Does the company support external certifications and advanced degrees?",
                  "Is there a formal AI academy or university partnership?",
                  "Do employees contribute to AI research and publications?",
                ],
              },
            ],
          },
          {
            id: 9,
            short: "Analytics",
            full: "Analytics, AI Development & MLOps",
            description:
              "Firms of sufficient size should develop centralized AI/data science/MLops capability with the ability to deploy traditional machine learning, deep learning, and generative AI, with best-practice MLops and model lifecycle management.",
            helpText:
              "Evaluates the organization's ability to develop, deploy, and maintain AI models with modern MLOps practices.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are analytics limited to data provided by vendor AI tools?",
                  "Is expertise in data science and ML limited to self-motivated members of IT and data teams?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Can the firm implement reporting and dashboards, business intelligence, data visualization, using a standard platform like Power BI or Tableau?",
                  "Is the firm reporting AI usage volume metrics, user feedback scores, and business KPIs like cost and churn?",
                  "Has the firm considered developing a centralized AI/ML team like an AI Center of Excellence (CoE) to build AI capabilities as company-wide platforms, execute cross-functional projects, and provide best practices, governance, and training resources?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Has the firm implemented real-time dashboards with KPIs and business metrics?",
                  "Has the firm implemented automated regulatory and compliance reporting with audit trails?",
                  "Has the firm implemented LLM evaluation frameworks (Promptfoo, RAGAS, DeepEval) for accuracy, faithfulness, relevance testing?",
                  "Are A/B testing and champion/challenger models implemented?",
                  "Can the firm do End-to-end workflow trace evaluations?",
                  "Are custom models developed and deployed for specific use cases?",
                  "Can the firm implement traditional machine learning models: Supervised learning (classification/regression), unsupervised learning (clustering/dimensionality reduction), time series analysis (forecasting/anomaly detection), ensemble methods? (XGBoost/LightGBM) using scikit-learn/statsmodels?",
                  "Can the firm apply natural language processing to text using web scraping, research/news feeds using traditional NLP and generative AI?",
                  "Do models use automated feature engineering and model selection?",
                  "Can the firm use knowledge graphs for relationship mapping, ownership structures, supply chain analysis, graph RAG?",
                  "Can the firm apply attribution and explainability with SHAP, LIME?",
                  "Can the firm do multi-modal analysis (GPT-4 Vision) for charts, satellite imagery, presentation decks?",
                  "Can the firm do portfolio optimization (CVXPY, Riskfolio-Lib)?",
                  "Can the firm implement Factor models, backtesting frameworks, scenario analysis, and stress testing?",
                  "Is there a complete MLOps pipeline from development to production?",
                  "Are there risk management dashboards with real-time position monitoring, exposure analysis, alerts for threshold breach detection?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Has the firm deployed custom or fine-tuned models (domain-specific embeddings, classification) for proprietary use cases?",
                  "Has the firm implemented alt data pipelines?",
                  "Has the firm implemented knowledge management at scale on real-time news and market intelligence?",
                  "Can the firm do advanced time series analysis (GluonTS, deep reinforcement learning) for forecasting, regime detection, pattern recognition?",
                  "Do systems automatically optimize for specified objectives as new data becomes available?",
                ],
              },
            ],
          },
          {
            id: 10,
            short: "Use-Cases",
            full: "Use Cases",
            description:
              "Identifying and sequencing impactful use cases effectively is a key to AI success, use case portfolio, and business impact. Walk: POCs with relatively low risk, high impact, transferable learning; Run: human in the loop assistants; Fly; agentic automation. Stage 1 - Tactical: Focus on easy adoption, minimal disruption, and quick wins with simple, short-term, and narrow AI use cases, often without a coherent long-term plan.",
            helpText:
              "Assesses the breadth and depth of AI use cases, from individual productivity to autonomous agents handling end-to-end processes.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Is AI use opportunistic without defined use cases and business objectives?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Is there a systematic process to inventory and rank AI use cases by business function?",
                  "Has the firm selected a few specific manual, contained workflows for pilots: retrieval, triage, summarization, data enrichment and draft generation—measured by impact, improvement in quality and productivity.<br />\n\nExample use cases:<br />\n• Meeting transcription and summarization (investor calls, internal meetings)<br />\n• Research report summarization<br />\n• Simple Q&A chatbots for firm knowledge bases such as policies, HR knowledgebase<br />\n• Email generation for standard communications, and response suggestions<br />\n• Simple data extraction from documents (earnings calls, filings)<br />\n• Standard pitch deck creation from templates<br />\n• Basic financial data visualizations<br />\n• Simple DDQ/RFP question answering<br />\n• Due diligence document analysis (AI highlights risks and summarizes according to a structured review)<br />\n",
                  "Is there a systematic process to identify AI solutions available on the market?<br />",
                  "Has the firm deployed an enterprise chatbot assistant like ChatGPT Enterprise or Copilot, with integrations to firm data?<br />",
                  "Has the firm deployed a general purpose agent assistant for users like Claude Cowork (in isolated sandbox)?<br />",
                  "Has the firm deployed a technology assistant like Claude Code for developers?<br />",
                  "Has the firm investigated what team members are already doing with cut and paste 'manual' AI workflows?<br />",
                  "Has the firm inventoried grunt work pain points that could be assisted with AI?<br />",
                  "Has the firm inventoried high-friction and high activation-energy pain points that could be alleviated with AI to increase velocity?<br />",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Has the firm moved pilots from previous stage to production?",
                  "Has the firm selected a few specific manual, contained workflows for human-in-the-loop agentic pilots?<br />\n\nExample use cases:<br />\n• Daily/weekly/monthly meeting agendas from structured/unstructured data<br />\n• Investment research copilots (analyst specifies elements to research, iterates on sections of report)<br />\n• DDQ/RFP response systems (AI drafts responses, human reviews)<br />\n• Portfolio or market commentary generation (AI drafts based on significant news and portfolio changes)<br />\n• Meeting preparation assistants (AI summarizes context, human prepares strategy)<br />\n• Compliance monitoring alerts (AI flags issues, leads through structured review checklist)<br />\n• Investor communication drafting (AI creates draft, human adds data/edits, head of IR edits/sends)<br />\n• Research report writing assistants (AI drafts sections, analyst refines)<br />\n• Contract review and red-lining (AI highlights issues, legal reviews)<br />\n• Market intelligence / alt data aggregation (AI compiles, analyst synthesizes)<br />\n• IT help desk ticket triage and routing based on topic, VIP tag<br />\n",
                  "Are there a well-defined process to systematically solicit and evaluate use cases?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Are autonomous agents handling end-to-end business processes?",
                  "Have candidate workflows for end-to-end automation been identified? Imagine you could hire 1000 junior interns, which use cases would you re-engineer?<br />\n\nExample use cases:<br />\n• Daily trade reconciliation and exception handling workflow (autonomous matching, escalate only errors)<br />\n• Reference data management and updates (autonomous validation, data cleaning and updates)<br />\n• Regulatory filing preparation and submission (end-to-end automation with audit trail)<br />\n• Portfolio rebalancing proposals (within predefined parameters)<br />\n• NAV calculation, validation, distribution (autonomous daily processing)<br />\n• Client portal content updates (autonomous data refresh and publishing)<br />\n• Cash management and forecasting (autonomous monitoring and optimization)<br />\n• Vendor invoice processing and payment (autonomous matching and initial approval)<br />\n• Employee onboarding workflows (multi-step autonomous coordination)<br />\n• IT help desk ticket triage and resolution for frequent issues like backup restore, password reset (autonomous L1 support)<br />\n• Data room population for fundraising (autonomous document organization)<br />\n• Research distribution and tracking (autonomous delivery and metrics)<br />\n",
                ],
              },
            ],
          },
          {
            id: 11,
            short: "Partnerships",
            full: "External Partnerships",
            description:
              "Access ecosystem partnerships, vendor relationships, and industry collaboration, to fuel innovation and to access external data and expertise.",
            helpText:
              "Assesses strategic partnerships with AI vendors, academic institutions, and industry consortia.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are vendor relationships limited to consumer SaaS subscriptions?",
                  "Is there no formal engagement with AI vendors or partners?",
                  "Is external AI expertise not being leveraged?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Are designated team members systematically looking for 3rd party solutions, consultants, implementation partners for long-term relationships?",
                  "Are enterprise agreements in place with major AI platforms and vendors?",
                  "Is there due diligence and oversight of third-party AI vendors (including their supply chains) to ensure compliance, data security, and business alignment?",
                  "Do all third-party contracts document no model training and zero-day retention of your data, with periodic attestations of compliance with all contractual provisions?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Are strategic partnerships established with key technology providers?",
                  "Is the organization involved in industry consortia and working groups?",
                  "Are academic partnerships in place for research collaboration?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Is the organization contributing to open-source projects and co-developing AI solutions with partners?",
                  "Are there joint ventures or investments in AI startups?",
                  "Does the organization influence partner roadmaps and standards?",
                ],
              },
            ],
          },
          {
            id: 12,
            short: "Process",
            full: "Business Integration and Process Implementation",
            description:
              "Process integration, change management, and workflow optimization with AI. start with assistants, gradually increase autonomy. playbooks for all use cases to re-engineer and continuously improve with AI. need systems thinking. you get the benefits not when you use AI to optimize one part within existing workflow, but when you re-engineer the system. horse -> car. GenAI technology advances rapidly, but organizational change within enterprises happens more slowly, creating a speed limit to adoption and value creation. agility and flexibility to update processes as new capabilities emerge. the winner is not the smartest or the strongest but the most adaptable to change, with the tightest OODA loop.",
            helpText:
              "Evaluates how AI is integrated into business processes, from informal usage to fully automated workflows.",
            levels: [
              {
                level: 1,
                name: "Crawl",
                questions: [
                  "Are AI tools used informally without adapting workflows and deep process integration?",
                  "Are workflows changing, but driven by individual contributors, without structured evaluation, explicit goals and evidence of achieving them?",
                ],
              },
              {
                level: 2,
                name: "Walk",
                questions: [
                  "Has the firm implemented AI as assistant, through enterprise chatbots?",
                  "Has the firm identified 2-4 meaningful-impact, low-complexity, high-learning, measurable use cases to demonstrate value quickly?",
                  "Has the firm documented their business workflows to enable re-engineering them?",
                  "Has the firm launched targeted pilot projects with structured evaluations against SMART objectives?",
                  "Has the team begun to identify broader value creation opportunities from AI, enterprise competencies required to realize them?",
                  "Has the firm assessed where humans need to be in the loop for oversight and what constitutes acceptable risk and responsible use of AI?",
                  "Has the firm considered hackathons for innovative pilots, and other ways of encouraging grass-roots experimentation and learning while managing risk?",
                ],
              },
              {
                level: 3,
                name: "Run",
                questions: [
                  "Does the firm have a playbook to operationalize processes as assistants with humans in the loop, scalably, robustly, with proper controls and business continuity/disaster recovery?",
                  "During the development cycle, is the firm creating re-usable, scalable components that can accelerate implementations?",
                  "During deployment and business integration, is the firm creating standardized playbooks that capture repeatable processes and accelerate future rollouts",
                  "Is AI explainable, so users know why it made a choice, and can rely on it, or take appropriate action and improve the process if the explanation is inadequate?",
                  "Is the firm considering when assistants are too creative and high risk, and does their creativity ceiling need to be lowered by breaking them down into predictable steps and adding checks, human intervention and fault-tolerance constraints?",
                  "Is the firm considering when assistants are insufficiently creative, and guardrails can be loosened?",
                  "Are assistants evaluated with data driven best practices, and known good/bad responses recorded for test suites to improve responses and prevent regressions?",
                  "Is the firm shifting design mindset from automating tasks within an existing process to reinventing the entire process with human and agentic coworkers?",
                  "Is the firm democratizing innovation: allowing bottom-up grass roots innovaton close to the business, letting rank and file workers reimagine how jobs are done, transforming operations, subject to data-driven review of the effect on operational performance, costs, risks, guardrails etc.",
                  "Is there change management to insure new models and tools are deployed in a controlled and tested manner, without disruptions or regressions and measuring improvements?",
                  "Is there continuous process improvement driven by AI insights?",
                  "Are documentation and training materials updated on new AI-enhanced processes, with AI assistance?",
                ],
              },
              {
                level: 4,
                name: "Fly",
                questions: [
                  "Is the firm systematically identifying issues which must be dealt with by the human in the loop, with a view to automating?",
                  "Has the firm built autonomous agent infrastructure, which can let agents notify humans and pause when intervention is required, so human can adjust/approve and continue?",
                  "Can agents use asynchronous, concurrent, parallel tasks and subagents to do multiple things at once?",
                  "Can agents try many solutions and pick the best one, or synthesize all responses? (bagging)",
                  "Can agents iteratively criticize their outputs, identify deficiencies, and correct them? (boosting)",
                  "Has the firm inventoried autonomous agent patterns and implemented a proof of concept for each one?",
                  "Can autonomous agents use reasoning, planning, long and short-term memory, swarms with inter-agent communication?",
                  "Can the firm implement agents as autonomous co-worker in Teams/Slack channels?",
                  "Is the firm not just optimizing existing workflows with AI, but redesign work to fully take advantage of AI (as if you had infinite interns)?",
                  "Has the firm established a structured process for continuous improvement, with comprehensive monitoring, inventorying new vendor capabilities, and establishing feedback loops with end-users?",
                  "Is AI a core enabler of growth, efficiency, and innovation?",
                ],
              },
            ],
          },
        ],
      };
    </script>

    <!-- ================================================
         SECTION 2: MODEL LAYER
         Business logic, scoring, state management
         ================================================ -->
    <script id="model">
      /**
       * Model - Manages application state and business logic
       * No DOM dependencies - pure JavaScript
       */
      const Model = (() => {
        // Private state
        let state = {
          schemaVersion: SCHEMA_VERSION,
          appVersion: APP_VERSION,
          currentDimensionIndex: 0,
          answers: {},
        };

        /**
         * Initialize answers structure for all dimensions
         * @returns {Object} Initialized answers object
         */
        function initializeAnswers() {
          const answers = {};
          DIMENSIONS_DATA.dimensions.forEach((dim) => {
            answers[dim.id] = {};
            dim.levels.forEach((level, levelIndex) => {
              answers[dim.id][levelIndex + 1] = {};
              level.questions.forEach((_, qIndex) => {
                answers[dim.id][levelIndex + 1][qIndex] = 0;
              });
            });
          });
          return answers;
        }

        /**
         * Calculate score for a single dimension
         * @param {number} dimensionId - ID of dimension (1-12)
         * @returns {number} Score from 0.0 to 4.0
         */
        function calculateDimensionScore(dimensionId) {
          let score = 0;
          const dimension = DIMENSIONS_DATA.dimensions.find(
            (d) => d.id === dimensionId,
          );
          if (!dimension) return 0;

          const dimAnswers = state.answers[dimensionId];
          if (!dimAnswers) return 0;

          for (let level = 1; level <= CONFIG.LEVELS_PER_DIMENSION; level++) {
            if (!isLevelUnlocked(dimensionId, level)) break;

            const levelAnswers = dimAnswers[level];
            const levelData = dimension.levels[level - 1];
            const questionCount = levelData.questions.length;

            if (questionCount === 0) continue; // Avoid division by zero

            let levelScore = 0;
            for (let qIndex = 0; qIndex < questionCount; qIndex++) {
              const answer = levelAnswers[qIndex] || 0;
              levelScore += answer / CONFIG.MAX_SLIDER_VALUE / questionCount;
            }
            score += levelScore;
          }

          return score;
        }

        /**
         * Calculate overall score across all dimensions
         * @returns {number} Average score from 0.0 to 4.0
         */
        function calculateOverallScore() {
          const scores = DIMENSIONS_DATA.dimensions.map((dim) =>
            calculateDimensionScore(dim.id),
          );
          const sum = scores.reduce((acc, score) => acc + score, 0);
          return sum / scores.length;
        }

        /**
         * Check if a level is unlocked
         * @param {number} dimensionId - Dimension ID
         * @param {number} level - Level number (1-4)
         * @returns {boolean} True if unlocked
         */
        function isLevelUnlocked(dimensionId, level) {
          if (level === 1) return true;

          const prevLevel = level - 1;
          const prevLevelAnswers = state.answers[dimensionId]?.[prevLevel];
          if (!prevLevelAnswers) return false;

          const dimension = DIMENSIONS_DATA.dimensions.find(
            (d) => d.id === dimensionId,
          );
          if (!dimension) return false;

          const prevLevelData = dimension.levels[prevLevel - 1];
          const questionCount = prevLevelData.questions.length;

          if (questionCount === 0) return false; // Avoid division by zero

          let sum = 0;
          for (let qIndex = 0; qIndex < questionCount; qIndex++) {
            sum += prevLevelAnswers[qIndex] || 0;
          }
          const average = sum / questionCount;

          return average >= CONFIG.UNLOCK_THRESHOLD;
        }

        /**
         * Get stage label from score
         * @param {number} score - Score value
         * @returns {string} Stage label
         */
        function getStageLabel(score) {
          const rounded = Math.round(score);
          if (rounded < 1) return "Not Started";
          return CONFIG.STAGE_LABELS[rounded - 1] || "Not Started";
        }

        /**
         * Get CSS class for stage
         * @param {number} score - Score value
         * @returns {string} CSS class name
         */
        function getStageClass(score) {
          const rounded = Math.round(score);
          if (rounded < 1) return "stage-crawl";
          const stages = [
            "stage-crawl",
            "stage-walk",
            "stage-run",
            "stage-fly",
          ];
          return stages[rounded - 1] || "stage-crawl";
        }

        /**
         * Calculate completion percentage
         * @returns {number} Percentage from 0 to 100
         */
        function getCompletionPercentage() {
          let completedDimensions = 0;
          const totalDimensions = DIMENSIONS_DATA.dimensions.length;

          DIMENSIONS_DATA.dimensions.forEach((dim) => {
            // Check if any question in any level has been answered
            let hasAnswer = false;
            for (let level = 1; level <= CONFIG.LEVELS_PER_DIMENSION; level++) {
              if (!isLevelUnlocked(dim.id, level)) break;

              const levelData = dim.levels[level - 1];
              for (
                let qIndex = 0;
                qIndex < levelData.questions.length;
                qIndex++
              ) {
                if (state.answers[dim.id][level][qIndex] > 0) {
                  hasAnswer = true;
                  break;
                }
              }
              if (hasAnswer) break;
            }

            if (hasAnswer) {
              completedDimensions++;
            }
          });

          return totalDimensions > 0
            ? (completedDimensions / totalDimensions) * 100
            : 0;
        }

        /**
         * Get dimension status for wizard
         * @param {number} dimensionId - Dimension ID
         * @returns {string} 'in-progress' or 'not-started'
         */
        function getDimensionStatus(dimensionId) {
          const dimAnswers = state.answers[dimensionId];

          for (let level = 1; level <= CONFIG.LEVELS_PER_DIMENSION; level++) {
            if (!isLevelUnlocked(dimensionId, level)) break;

            const levelAnswers = dimAnswers[level];
            const dimension = DIMENSIONS_DATA.dimensions.find(
              (d) => d.id === dimensionId,
            );
            const levelData = dimension.levels[level - 1];

            for (
              let qIndex = 0;
              qIndex < levelData.questions.length;
              qIndex++
            ) {
              if ((levelAnswers[qIndex] || 0) > 0) {
                return "in-progress";
              }
            }
          }

          return "not-started";
        }

        // Public API
        return {
          // State access
          getState: () => ({ ...state }),
          setState: (newState) => {
            state = newState;
          },
          getCurrentDimensionIndex: () => state.currentDimensionIndex,
          setCurrentDimensionIndex: (index) => {
            if (index >= 0 && index < DIMENSIONS_DATA.dimensions.length) {
              state.currentDimensionIndex = index;
              return true;
            }
            return false;
          },
          getAnswer: (dimensionId, level, questionIndex) =>
            state.answers[dimensionId]?.[level]?.[questionIndex] || 0,
          setAnswer: (dimensionId, level, questionIndex, value) => {
            if (!state.answers[dimensionId]) return false;
            if (!state.answers[dimensionId][level]) return false;
            state.answers[dimensionId][level][questionIndex] = parseInt(
              value,
              10,
            );
            return true;
          },

          // Initialization
          initialize: () => {
            state.answers = initializeAnswers();
          },

          // Scoring
          calculateDimensionScore,
          calculateOverallScore,
          isLevelUnlocked,
          getStageLabel,
          getStageClass,

          // Progress tracking
          getCompletionPercentage,
          getDimensionStatus,
        };
      })();
    </script>

    <!-- ================================================
         SECTION 3: STORAGE LAYER
         localStorage persistence with versioning
         ================================================ -->
    <script id="storage">
      /**
       * Storage - Handles localStorage operations with validation and migration
       */
      const Storage = (() => {
        /**
         * Migrate old state to current schema version
         * @param {Object} savedState - Loaded state
         * @returns {Object} Migrated state
         */
        function migrate(savedState) {
          // Handle schema version 0 (no version) -> 1
          if (!savedState.schemaVersion) {
            savedState.schemaVersion = 1;
            savedState.appVersion = APP_VERSION;
          }

          // Future migrations go here
          // if (savedState.schemaVersion === 1) {
          //   // Migrate to version 2
          //   savedState.schemaVersion = 2;
          // }

          return savedState;
        }

        /**
         * Validate loaded state structure
         * @param {Object} savedState - State to validate
         * @returns {boolean} True if valid
         */
        function validate(savedState) {
          if (!savedState || typeof savedState !== "object") return false;
          if (!savedState.answers || typeof savedState.answers !== "object")
            return false;
          if (typeof savedState.currentDimensionIndex !== "number")
            return false;

          // Validate structure matches current dimensions
          for (const dim of DIMENSIONS_DATA.dimensions) {
            if (!savedState.answers[dim.id]) return false;
          }

          return true;
        }

        return {
          /**
           * Save state to localStorage
           * @param {Object} state - State to save
           * @returns {Object} Result with success/error
           */
          save: (state) => {
            try {
              const serialized = JSON.stringify(state);
              localStorage.setItem(CONFIG.STORAGE_KEY, serialized);
              return { success: true };
            } catch (error) {
              if (error.name === "QuotaExceededError") {
                return {
                  success: false,
                  error:
                    "Storage quota exceeded. Please clear some browser data.",
                };
              }
              return {
                success: false,
                error: `Failed to save: ${error.message}`,
              };
            }
          },

          /**
           * Load state from localStorage
           * @returns {Object} Result with success/error/data
           */
          load: () => {
            try {
              const saved = localStorage.getItem(CONFIG.STORAGE_KEY);
              if (!saved)
                return { success: false, error: "No saved data found" };

              let parsed = JSON.parse(saved);
              parsed = migrate(parsed);

              if (!validate(parsed)) {
                return {
                  success: false,
                  error: "Saved data is invalid or corrupted",
                };
              }

              return { success: true, data: parsed };
            } catch (error) {
              return {
                success: false,
                error: `Failed to load: ${error.message}`,
              };
            }
          },

          /**
           * Clear saved state
           * @returns {Object} Result with success/error
           */
          clear: () => {
            try {
              localStorage.removeItem(CONFIG.STORAGE_KEY);
              return { success: true };
            } catch (error) {
              return {
                success: false,
                error: `Failed to clear: ${error.message}`,
              };
            }
          },

          /**
           * Check if saved state exists
           * @returns {boolean} True if exists
           */
          exists: () => {
            return localStorage.getItem(CONFIG.STORAGE_KEY) !== null;
          },
        };
      })();
    </script>

    <!-- ================================================
         SECTION 4: VIEW LAYER
         DOM manipulation and rendering
         ================================================ -->
    <script id="view">
      /**
       * View - Handles all DOM manipulation and rendering
       * No business logic - just presentation
       */
      const View = (() => {
        let chart = null;

        /**
         * Escape HTML to prevent XSS
         * @param {string} text - Text to escape
         * @returns {string} Escaped HTML
         */
        function escapeHtml(text) {
          const div = document.createElement("div");
          div.textContent = text;
          return div.innerHTML;
        }

        /**
         * Get the color for a dimension from CSS
         * @param {string} dimensionShort - The dimension short name
         * @returns {string} RGB color value
         */
        function getDimensionColor(dimensionShort) {
          const colorClass = `color-${dimensionShort.toLowerCase()}`;
          // Create a temporary element to read computed style
          const temp = document.createElement("div");
          temp.className = colorClass;
          temp.style.display = "none";
          document.body.appendChild(temp);
          const color = window.getComputedStyle(temp).color;
          document.body.removeChild(temp);
          return color || "#1e66f5"; // Fallback to blue
        }

        /**
         * Initialize Chart.js radar chart
         * @returns {Chart} Chart instance
         */
        function initializeChart() {
          const ctx = document.getElementById("radarChart").getContext("2d");
          chart = new Chart(ctx, {
            type: "radar",
            data: {
              labels: DIMENSIONS_DATA.dimensions.map(
                (d, i) => `${i + 1}. ${d.short}`,
              ),
              datasets: [
                {
                  label: "Maturity Score",
                  data: new Array(DIMENSIONS_DATA.dimensions.length).fill(0),
                  fill: true,
                  backgroundColor: "rgba(30, 102, 245, 0.2)",
                  borderColor: "rgba(30, 102, 245, 1)",
                  pointBackgroundColor: "rgba(30, 102, 245, 1)",
                  pointBorderColor: "#eff1f5",
                  pointHoverBackgroundColor: "#eff1f5",
                  pointHoverBorderColor: "rgba(30, 102, 245, 1)",
                  pointRadius: 6,
                  pointHoverRadius: 10,
                  pointHitRadius: 20,
                  borderWidth: 3,
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                r: {
                  min: 0,
                  max: CONFIG.LEVELS_PER_DIMENSION,
                  ticks: {
                    stepSize: 1,
                    callback: (value) => (value === 0 ? "" : value),
                    font: { size: 12, weight: "bold" },
                  },
                  pointLabels: {
                    font: { size: 14, weight: "600" },
                    color: (context) => {
                      const dimension =
                        DIMENSIONS_DATA.dimensions[context.index];
                      return getDimensionColor(dimension.short);
                    },
                  },
                  grid: { color: "rgba(156, 160, 176, 0.3)" },
                  angleLines: { color: "rgba(156, 160, 176, 0.3)" },
                },
              },
              plugins: {
                legend: { display: false },
                tooltip: {
                  mode: "index",
                  intersect: true,
                  callbacks: {
                    title: (context) => {
                      const index = context[0].dataIndex;
                      return `${index + 1}. ${DIMENSIONS_DATA.dimensions[index].short}`;
                    },
                    label: (context) => {
                      const score = context.parsed.r;
                      const stage = Model.getStageLabel(score);
                      return `Score: ${score.toFixed(2)} (${stage})`;
                    },
                  },
                },
              },
              onClick: handleChartClick,
            },
          });

          return chart;
        }

        /**
         * Handle chart click events
         * @param {Event} event - Click event
         * @param {Array} activeElements - Active chart elements
         * @param {Chart} chartInstance - Chart instance
         */
        function handleChartClick(event, activeElements, chartInstance) {
          if (activeElements.length > 0) {
            const dataIndex = activeElements[0].dataIndex;
            Controller.jumpToDimension(dataIndex);
            return;
          }

          // Angle-based detection for clicks between points
          const canvasPosition = Chart.helpers.getRelativePosition(
            event,
            chartInstance,
          );
          const centerX = chartInstance.scales.r.xCenter;
          const centerY = chartInstance.scales.r.yCenter;

          const dx = canvasPosition.x - centerX;
          const dy = canvasPosition.y - centerY;

          // Calculate angle from top, clockwise (matching Chart.js radar)
          // Negate dy because canvas y-axis increases downward
          let angle = Math.atan2(dx, -dy);
          if (angle < 0) angle += 2 * Math.PI;

          const anglePerDimension =
            (2 * Math.PI) / DIMENSIONS_DATA.dimensions.length;
          const adjustedAngle = angle + anglePerDimension / 2;
          const dimensionIndex =
            Math.floor(adjustedAngle / anglePerDimension) %
            DIMENSIONS_DATA.dimensions.length;

          Controller.jumpToDimension(dimensionIndex);
        }

        /**
         * Update chart with new scores
         * @param {Array} scores - Array of dimension scores
         */
        function updateChart(scores) {
          if (!chart) return;
          chart.data.datasets[0].data = scores;
          chart.update();
        }

        /**
         * Show modal dialog
         * @param {string} title - Modal title
         * @param {string} message - Modal message
         * @param {Array} buttons - Array of button configs
         */
        function showModal(title, message, buttons) {
          document.getElementById("modalTitle").textContent = title;
          document.getElementById("modalText").textContent = message;

          const modalButtons = document.getElementById("modalButtons");
          modalButtons.innerHTML = "";

          buttons.forEach((btn) => {
            const button = document.createElement("button");
            button.className = btn.primary ? "btn-primary" : "btn-secondary";
            button.textContent = btn.text;
            button.onclick = btn.handler; // Use function reference, not eval!
            modalButtons.appendChild(button);
          });

          document.getElementById("modalOverlay").classList.add("visible");
        }

        /**
         * Hide modal dialog
         */
        function hideModal() {
          document.getElementById("modalOverlay").classList.remove("visible");
        }

        /**
         * Get answer label for slider value
         * @param {number} value - Slider value (0-4)
         * @returns {string} Label text
         */
        function getAnswerLabel(value, answerLabels = CONFIG.ANSWER_LABELS) {
          return `${value} - ${answerLabels[value]}`;
        }

        /**
         * Normalize question to object format
         * @param {string|Object} question - Question string or object with text/answerLabels
         * @returns {Object} { text: string, answerLabels: array }
         */
        function getQuestionData(question) {
          if (typeof question === "string") {
            return { text: question, answerLabels: CONFIG.ANSWER_LABELS };
          }
          return {
            text: question.text,
            answerLabels: question.answerLabels || CONFIG.ANSWER_LABELS,
          };
        }

        /**
         * Render questionnaire for current dimension
         * @param {number} dimensionIndex - Index of dimension
         */
        function renderQuestionnaire(dimensionIndex) {
          const dimension = DIMENSIONS_DATA.dimensions[dimensionIndex];
          if (!dimension) {
            console.error("Invalid dimension index:", dimensionIndex);
            return;
          }

          const content = document.getElementById("questionnaireContent");
          const dimScore = Model.calculateDimensionScore(dimension.id);
          const overallScore = Model.calculateOverallScore();

          const parts = [];

          // Derive color class from dimension short name
          const colorClass = `color-${dimension.short.toLowerCase()}`;

          // Header
          parts.push(`
            <div class="dimension-header">
              <div class="dimension-title ${colorClass}">${escapeHtml(dimension.full)}</div>
              <div class="help-content">
                <div class="dimension-description">${escapeHtml(dimension.description)}</div>
                <br>
                ${escapeHtml(dimension.helpText)}
              </div>
              <div class="dimension-current-score ${colorClass}">
                ${escapeHtml(dimension.short)} Score: ${dimScore.toFixed(1)} (${Model.getStageLabel(dimScore)})<br>
                Overall Score: ${overallScore.toFixed(1)} (${Model.getStageLabel(overallScore)})
              </div>
            </div>
          `);

          // Levels
          dimension.levels.forEach((level, levelIndex) => {
            const levelNum = levelIndex + 1;
            const isUnlocked = Model.isLevelUnlocked(dimension.id, levelNum);
            const lockedClass = isUnlocked ? "" : "locked";
            const statusClass = isUnlocked
              ? "status-unlocked"
              : "status-locked";
            const statusText = isUnlocked ? "Unlocked" : "Locked";

            parts.push(`
              <div class="level-section level-${levelNum} ${lockedClass}">
                <div class="level-header">
                  <div class="level-title">Level ${levelNum}: ${escapeHtml(level.name)}</div>
                  <div class="level-status ${statusClass}">${statusText}</div>
                </div>
            `);

            level.questions.forEach((question, qIndex) => {
              const questionData = getQuestionData(question);
              const answerId = `dim${dimension.id}_lv${levelNum}_q${qIndex}`;
              const currentValue = Model.getAnswer(
                dimension.id,
                levelNum,
                qIndex,
              );

              parts.push(`
                <div class="question-item">
                  <div class="question-text">${escapeHtml(questionData.text)}</div>
                  <div class="slider-wrapper">
                    <div class="slider-container">
                      <input type="range"
                             id="${answerId}"
                             min="0"
                             max="${CONFIG.MAX_SLIDER_VALUE}"
                             step="1"
                             value="${currentValue}"
                             ${!isUnlocked ? "disabled" : ""}
                             data-dimension="${dimension.id}"
                             data-level="${levelNum}"
                             data-question="${qIndex}"
                             data-answer-labels="${JSON.stringify(questionData.answerLabels).replace(/"/g, "&quot;")}">
                      <div class="value-display" id="${answerId}_display">
                        ${getAnswerLabel(currentValue, questionData.answerLabels)}
                      </div>
                    </div>
                    <div class="slider-ticks">
                      ${questionData.answerLabels.map((label, i) => `<span title="${escapeHtml(label)}">${i}</span>`).join("")}
                    </div>
                  </div>
                </div>
              `);
            });

            parts.push("</div>");
          });

          content.innerHTML = parts.join("");
        }

        /**
         * Update slider display value
         * @param {number} dimensionId - Dimension ID
         * @param {number} level - Level number
         * @param {number} questionIndex - Question index
         * @param {number} value - Slider value
         */
        function updateSliderDisplay(dimensionId, level, questionIndex, value) {
          const answerId = `dim${dimensionId}_lv${level}_q${questionIndex}`;
          const display = document.getElementById(`${answerId}_display`);
          const slider = document.getElementById(answerId);
          if (display && slider) {
            const answerLabels =
              JSON.parse(slider.dataset.answerLabels || "null") ||
              CONFIG.ANSWER_LABELS;
            display.textContent = getAnswerLabel(value, answerLabels);
          }
        }

        /**
         * Render summary table
         * @param {number} currentDimensionIndex - Currently selected dimension
         */
        function renderSummaryTable(currentDimensionIndex) {
          const tbody = document.getElementById("dimensionsTableBody");
          const rows = [];

          DIMENSIONS_DATA.dimensions.forEach((dim, index) => {
            const score = Model.calculateDimensionScore(dim.id);
            const stage = Model.getStageLabel(score);
            const stageClass = Model.getStageClass(score);
            const isActive = index === currentDimensionIndex;
            const highlightStyle = isActive
              ? 'style="background-color: rgba(30, 102, 245, 0.1);"'
              : "";

            rows.push(`
              <tr data-dimension-index="${index}" ${highlightStyle}>
                <td>${escapeHtml(dim.full)}</td>
                <td class="dimension-score">${score.toFixed(2)}</td>
                <td><span class="score-label ${stageClass}">${stage}</span></td>
              </tr>
            `);
          });

          tbody.innerHTML = rows.join("");
        }

        /**
         * Update overall score display
         */
        function updateOverallScore() {
          const overallScore = Model.calculateOverallScore();
          const stage = Model.getStageLabel(overallScore);
          const stageClass = Model.getStageClass(overallScore);

          document.getElementById("overallValue").textContent =
            overallScore.toFixed(2);

          const labelElement = document.getElementById("overallLabel");
          labelElement.textContent = stage;
          labelElement.className = `score-label ${stageClass}`;
        }

        /**
         * Render wizard step indicators
         * @param {number} currentDimensionIndex - Current dimension
         */
        function renderWizardSteps(currentDimensionIndex) {
          const container = document.getElementById("wizardSteps");
          const steps = [];

          DIMENSIONS_DATA.dimensions.forEach((dim, index) => {
            const status = Model.getDimensionStatus(dim.id);
            const statusClass = status === "in-progress" ? "completed" : "";
            const activeClass = index === currentDimensionIndex ? "active" : "";

            steps.push(`
              <div class="step-indicator ${statusClass} ${activeClass}"
                   data-dimension-index="${index}"
                   data-tooltip="${escapeHtml(dim.full)}">
                ${index + 1}
              </div>
            `);
          });

          container.innerHTML = steps.join("");
        }

        /**
         * Update wizard UI
         * @param {number} dimensionIndex - Current dimension index
         */
        function updateWizardUI(dimensionIndex) {
          const dimension = DIMENSIONS_DATA.dimensions[dimensionIndex];
          document.getElementById("wizardTitle").textContent =
            `${dimensionIndex + 1} / ${DIMENSIONS_DATA.dimensions.length}: ${dimension.short}`;

          document.getElementById("prevBtn").disabled = dimensionIndex === 0;
          document.getElementById("nextBtn").disabled =
            dimensionIndex === DIMENSIONS_DATA.dimensions.length - 1;

          const percentage = Model.getCompletionPercentage();
          document.getElementById("progressBar").style.width = `${percentage}%`;
          document.getElementById("progressInfo").textContent =
            `${Math.round(percentage)}% Complete`;
        }

        return {
          initializeChart,
          updateChart,
          showModal,
          hideModal,
          renderQuestionnaire,
          updateSliderDisplay,
          renderSummaryTable,
          updateOverallScore,
          renderWizardSteps,
          updateWizardUI,
        };
      })();
    </script>

    <!-- ================================================
         SECTION 5: CONTROLLER LAYER
         Orchestrates Model and View, handles events
         ================================================ -->
    <script id="controller">
      /**
       * Controller - Coordinates between Model and View
       * Handles user interactions and navigation
       */
      const Controller = (() => {
        /**
         * Initialize application
         */
        function initialize() {
          setupEventListeners();
          setupKeyboardShortcuts();
          checkForSavedSession();
        }

        /**
         * Start application (after modal or on first load)
         * @param {Object} loadedState - Optional state to load
         */
        function startApp(loadedState = null) {
          if (loadedState) {
            Model.setState(loadedState);
          } else {
            Model.initialize();
          }

          View.initializeChart();
          updateAllUI();

          // Render the questionnaire for current dimension
          const currentIndex = Model.getCurrentDimensionIndex();
          View.renderQuestionnaire(currentIndex);
        }

        /**
         * Check for saved session and show modal if exists
         */
        function checkForSavedSession() {
          if (Storage.exists()) {
            View.showModal(
              "Welcome Back",
              "We found a previous assessment. Would you like to continue where you left off?",
              [
                {
                  text: "Continue Previous",
                  handler: continueSession,
                  primary: true,
                },
                {
                  text: "Start New",
                  handler: startNewSession,
                  primary: false,
                },
              ],
            );
          } else {
            startApp();
          }
        }

        /**
         * Continue previous session
         */
        function continueSession() {
          const result = Storage.load();
          View.hideModal();

          if (result.success) {
            startApp(result.data);
          } else {
            alert(
              "Error loading saved assessment: " +
                result.error +
                "\nStarting fresh assessment.",
            );
            startApp();
          }
        }

        /**
         * Start new session (clear old data)
         */
        function startNewSession() {
          Storage.clear();
          View.hideModal();
          startApp();
        }

        /**
         * Handle answer change from slider
         * @param {number} dimensionId - Dimension ID
         * @param {number} level - Level number
         * @param {number} questionIndex - Question index
         * @param {number} value - New value
         */
        function handleAnswerChange(dimensionId, level, questionIndex, value) {
          // Update model
          if (!Model.setAnswer(dimensionId, level, questionIndex, value)) {
            console.error("Failed to set answer");
            return;
          }

          // Save to storage
          const saveResult = Storage.save(Model.getState());
          if (!saveResult.success) {
            console.error("Failed to save:", saveResult.error);
            alert("Warning: Could not save your progress. " + saveResult.error);
          }

          // Update view
          View.updateSliderDisplay(dimensionId, level, questionIndex, value);

          // Check if we need to re-render (level unlocked/locked)
          const nextLevel = level + 1;
          if (nextLevel <= CONFIG.LEVELS_PER_DIMENSION) {
            const currentIndex = Model.getCurrentDimensionIndex();
            View.renderQuestionnaire(currentIndex);
          }

          updateAllUI();
        }

        /**
         * Navigate to relative dimension
         * @param {number} direction - -1 for previous, 1 for next
         */
        function navigateDimension(direction) {
          const currentIndex = Model.getCurrentDimensionIndex();
          const newIndex = currentIndex + direction;

          if (newIndex >= 0 && newIndex < DIMENSIONS_DATA.dimensions.length) {
            jumpToDimension(newIndex);
          }
        }

        /**
         * Jump to specific dimension
         * @param {number} index - Dimension index
         */
        function jumpToDimension(index) {
          // Validate index
          if (typeof index !== "number" || isNaN(index)) {
            console.warn("Invalid dimension index:", index);
            return;
          }

          if (index < 0 || index >= DIMENSIONS_DATA.dimensions.length) {
            console.warn("Dimension index out of bounds:", index);
            return;
          }

          Model.setCurrentDimensionIndex(index);
          Storage.save(Model.getState());

          View.renderQuestionnaire(index);
          View.renderSummaryTable(index);
          View.renderWizardSteps(index);
          View.updateWizardUI(index);
        }

        /**
         * Update all UI components
         */
        function updateAllUI() {
          const currentIndex = Model.getCurrentDimensionIndex();

          // Update chart
          const scores = DIMENSIONS_DATA.dimensions.map((dim) =>
            Model.calculateDimensionScore(dim.id),
          );
          View.updateChart(scores);

          // Update other UI
          View.updateOverallScore();
          View.renderSummaryTable(currentIndex);
          View.renderWizardSteps(currentIndex);
          View.updateWizardUI(currentIndex);
        }

        /**
         * Show reset confirmation modal
         */
        function showResetModal() {
          View.showModal(
            "Reset Assessment",
            "Are you sure you want to reset all answers? This action cannot be undone.",
            [
              {
                text: "Reset All",
                handler: resetAssessment,
                primary: false,
              },
              {
                text: "Cancel",
                handler: View.hideModal,
                primary: true,
              },
            ],
          );
        }

        /**
         * Reset assessment to initial state
         */
        function resetAssessment() {
          Storage.clear();
          Model.initialize();
          Model.setCurrentDimensionIndex(0);
          View.hideModal();
          updateAllUI();
          View.renderQuestionnaire(0);
        }

        /**
         * Setup event listeners
         */
        function setupEventListeners() {
          // Previous/Next buttons
          document
            .getElementById("prevBtn")
            .addEventListener("click", () => navigateDimension(-1));
          document
            .getElementById("nextBtn")
            .addEventListener("click", () => navigateDimension(1));

          // Reset button
          document
            .getElementById("resetBtn")
            .addEventListener("click", showResetModal);

          // Slider event delegation
          document.addEventListener("change", (e) => {
            if (e.target.type === "range" && e.target.dataset.dimension) {
              const dimensionId = parseInt(e.target.dataset.dimension, 10);
              const level = parseInt(e.target.dataset.level, 10);
              const questionIndex = parseInt(e.target.dataset.question, 10);
              const value = parseInt(e.target.value, 10);
              handleAnswerChange(dimensionId, level, questionIndex, value);
            }
          });

          // Table row clicks (event delegation)
          document
            .getElementById("dimensionsTableBody")
            .addEventListener("click", (e) => {
              const row = e.target.closest("tr");
              if (row && row.dataset.dimensionIndex !== undefined) {
                const index = parseInt(row.dataset.dimensionIndex, 10);
                jumpToDimension(index);
              }
            });

          // Wizard step clicks (event delegation)
          document
            .getElementById("wizardSteps")
            .addEventListener("click", (e) => {
              const step = e.target.closest(".step-indicator");
              if (step && step.dataset.dimensionIndex !== undefined) {
                const index = parseInt(step.dataset.dimensionIndex, 10);
                jumpToDimension(index);
              }
            });
        }

        /**
         * Setup keyboard shortcuts
         */
        function setupKeyboardShortcuts() {
          document.addEventListener("keydown", (e) => {
            if (e.target.tagName === "INPUT") return;

            if (e.key === "ArrowLeft") {
              e.preventDefault();
              navigateDimension(-1);
            } else if (e.key === "ArrowRight") {
              e.preventDefault();
              navigateDimension(1);
            }
          });
        }

        return {
          initialize,
          handleAnswerChange,
          navigateDimension,
          jumpToDimension,
          showResetModal,
        };
      })();
    </script>

    <!-- ================================================
         SECTION 6: APP INITIALIZATION
         ================================================ -->
    <script>
      // Initialize app when DOM is ready
      document.addEventListener("DOMContentLoaded", () => {
        Controller.initialize();
      });
    </script>

    <!--
    ========================================
    CUSTOMIZATION GUIDE
    ========================================

    To customize this assessment:

    1. EDIT QUESTIONS & DIMENSIONS:
       Search for "DIMENSIONS_DATA" above and modify
       the dimensions, levels, or questions

    2. CHANGE THEME:
       Edit CSS variables in the :root section
       (search for "THEME CUSTOMIZATION")

    3. ADJUST UNLOCK THRESHOLD:
       Modify CONFIG.UNLOCK_THRESHOLD
       (2.0 = 50%, 3.0 = 75%, etc.)

    4. CHANGE STORAGE KEY:
       Modify CONFIG.STORAGE_KEY if running
       multiple different assessments

    5. CUSTOMIZE LABELS:
       Edit CONFIG.STAGE_LABELS and
       CONFIG.ANSWER_LABELS

    ========================================
    ARCHITECTURE:
    - Model: Business logic (scoring, unlocking)
    - Storage: localStorage with versioning
    - View: DOM rendering (no business logic)
    - Controller: Orchestration and events

    Each module exposes a clean public API.
    All modules are wrapped in IIFEs to avoid
    polluting the global scope.
    ========================================
    -->
  </body>
</html>
