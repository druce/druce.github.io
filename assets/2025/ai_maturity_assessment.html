<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Maturity Assessment - Investment Firm Self-Assessment</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        /* ========== GLOBAL STYLES ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            color: #1a202c;
            background: #f7fafc;
            line-height: 1.6;
        }

        .app-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 120px;
            /* Space for fixed wizard bar */
        }

        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        /* ========== LAYOUT: 2-PANEL RESPONSIVE ========== */
        .main-panels {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (min-width: 1200px) {
            .main-panels {
                grid-template-columns: 1fr 1fr;
            }
        }

        .chart-panel {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .questionnaire-panel {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        /* ========== CHART STYLES ========== */
        .chart-container {
            position: relative;
            height: 500px;
            margin-bottom: 30px;
        }

        .chart-summary {
            margin-top: 30px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
        }

        .overall-score {
            text-align: center;
            font-size: 1.3em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
        }

        .score-label {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.9em;
            margin-left: 8px;
        }

        .stage-crawl {
            background: #fc8181;
            color: white;
        }

        .stage-walk {
            background: #f6ad55;
            color: white;
        }

        .stage-run {
            background: #68d391;
            color: white;
        }

        .stage-fly {
            background: #4299e1;
            color: white;
        }

        .dimensions-table {
            width: 100%;
            font-size: 0.9em;
        }

        .dimensions-table th {
            text-align: left;
            padding: 8px;
            color: #4a5568;
            font-weight: 600;
            border-bottom: 2px solid #e2e8f0;
        }

        .dimensions-table td {
            padding: 8px;
            border-bottom: 1px solid #e2e8f0;
        }

        .dimension-score {
            font-weight: 600;
            color: #2d3748;
        }

        /* ========== QUESTIONNAIRE STYLES ========== */
        .dimension-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        .dimension-title {
            font-size: 1.5em;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .dimension-description {
            color: #718096;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .dimension-current-score {
            margin-top: 10px;
            font-size: 1.1em;
            font-weight: 600;
            color: #667eea;
        }

        .help-toggle {
            display: inline-block;
            margin-left: 10px;
            cursor: pointer;
            color: #667eea;
            font-size: 0.9em;
            text-decoration: underline;
        }

        .help-content {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #edf2f7;
            border-radius: 8px;
            color: #4a5568;
        }

        .help-content.visible {
            display: block;
        }

        /* ========== LEVEL SECTIONS ========== */
        .level-section {
            margin-bottom: 20px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 8px;
            border-left: 4px solid #cbd5e0;
        }

        .level-section.locked {
            opacity: 0.5;
            pointer-events: none;
        }

        .level-section.level-1 {
            border-left-color: #fc8181;
        }

        .level-section.level-2 {
            border-left-color: #f6ad55;
        }

        .level-section.level-3 {
            border-left-color: #68d391;
        }

        .level-section.level-4 {
            border-left-color: #4299e1;
        }

        .level-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .level-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #2d3748;
        }

        .level-status {
            font-size: 0.85em;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 600;
        }

        .status-locked {
            background: #cbd5e0;
            color: #4a5568;
        }

        .status-unlocked {
            background: #68d391;
            color: white;
        }

        /* ========== QUESTION STYLES ========== */
        .question-item {
            margin-bottom: 20px;
        }

        .question-text {
            font-weight: 500;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .slider-wrapper {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 5px;
            background: #e2e8f0;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .slider-ticks {
            display: flex;
            justify-content: space-between;
            font-size: 0.75em;
            color: #718096;
            padding: 0 2px;
            margin-right: 155px;
        }

        .value-display {
            min-width: 140px;
            text-align: right;
            font-weight: 600;
            color: #4a5568;
            font-size: 0.9em;
        }

        /* ========== WIZARD NAVIGATION BAR ========== */
        .wizard-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 2px solid #e2e8f0;
            padding: 15px 20px;
            box-shadow: 0 -4px 6px rgba(0, 0, 0, 0.05);
            z-index: 1000;
        }

        .wizard-content {
            max-width: 1600px;
            margin: 0 auto;
        }

        .wizard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .wizard-title {
            font-weight: 600;
            color: #2d3748;
            font-size: 1em;
        }

        .progress-info {
            font-size: 0.9em;
            color: #718096;
        }

        .progress-bar-container {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .wizard-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .wizard-steps {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            flex: 1;
            justify-content: center;
        }

        .step-indicator {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #e2e8f0;
            color: #718096;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .step-indicator:hover {
            transform: scale(1.1);
        }

        .step-indicator.active {
            background: #667eea;
            color: white;
            border-color: #5a67d8;
        }

        .step-indicator.completed {
            background: #68d391;
            color: white;
        }

        .step-indicator.in-progress {
            background: #f6ad55;
            color: white;
        }

        button {
            padding: 10px 20px;
            font-size: 0.95em;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: #5a67d8;
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #cbd5e0;
        }

        .btn-danger {
            background: #fc8181;
            color: white;
        }

        .btn-danger:hover:not(:disabled) {
            background: #f56565;
        }

        /* ========== ACTION BUTTONS ========== */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        /* ========== MODAL STYLES ========== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.visible {
            display: flex;
        }

        .modal {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .modal-title {
            font-size: 1.5em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 15px;
        }

        .modal-text {
            color: #4a5568;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* ========== PRINT STYLES ========== */
        @media print {
            body {
                background: white;
            }

            .wizard-bar,
            .action-buttons,
            .help-toggle,
            .nav-buttons,
            button {
                display: none !important;
            }

            .app-container {
                padding-bottom: 0;
            }

            .main-panels {
                display: block;
            }

            .chart-panel,
            .questionnaire-panel {
                box-shadow: none;
                page-break-inside: avoid;
            }

            .chart-container {
                height: 400px;
            }

            .level-section {
                page-break-inside: avoid;
            }
        }

        /* ========== MOBILE RESPONSIVE ========== */
        @media (max-width: 768px) {
            .app-container {
                padding: 10px;
                padding-bottom: 140px;
            }

            h1 {
                font-size: 1.5em;
            }

            .chart-container {
                height: 350px;
            }

            .wizard-steps {
                gap: 5px;
            }

            .step-indicator {
                width: 28px;
                height: 28px;
                font-size: 0.7em;
            }

            .wizard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .slider-container {
                flex-direction: column;
                align-items: stretch;
            }

            .slider-ticks {
                margin-right: 0;
            }

            .value-display {
                text-align: left;
                margin-top: 5px;
            }
        }
    </style>
</head>

<body>
    <div class="app-container">
        <h1>AI Maturity Assessment</h1>
        <p class="subtitle">Investment Firm Self-Assessment Tool</p>

        <div class="main-panels">
            <!-- CHART PANEL -->
            <div class="chart-panel">
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>

                <div class="chart-summary">
                    <div class="overall-score" id="overallScore">
                        Overall Maturity: <span id="overallValue">0.00</span> / 4.0
                        <span id="overallLabel" class="score-label stage-crawl">Not Started</span>
                    </div>

                    <table class="dimensions-table">
                        <thead>
                            <tr>
                                <th>Dimension</th>
                                <th>Score</th>
                                <th>Stage</th>
                            </tr>
                        </thead>
                        <tbody id="dimensionsTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="action-buttons">
                    <button class="btn-primary" onclick="printAssessment()">Print / Save as PDF</button>
                    <button class="btn-danger" onclick="showResetModal()">Reset Assessment</button>
                </div>
            </div>

            <!-- QUESTIONNAIRE PANEL -->
            <div class="questionnaire-panel">
                <div id="questionnaireContent">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- WIZARD NAVIGATION BAR -->
    <div class="wizard-bar">
        <div class="wizard-content">
            <div class="wizard-header">
                <div class="wizard-title" id="wizardTitle">1 / 12: Strategic Vision</div>
                <div class="progress-info" id="progressInfo">0% Complete</div>
            </div>

            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>

            <div class="wizard-controls">
                <div class="nav-buttons">
                    <button class="btn-secondary" id="prevBtn" onclick="navigateDimension(-1)">← Previous</button>
                </div>

                <div class="wizard-steps" id="wizardSteps">
                    <!-- Populated by JavaScript -->
                </div>

                <div class="nav-buttons">
                    <button class="btn-secondary" id="nextBtn" onclick="navigateDimension(1)">Next →</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL FOR RESTORE/RESET -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-title" id="modalTitle">Welcome Back</div>
            <div class="modal-text" id="modalText">
                We found a previous assessment. Would you like to continue where you left off?
            </div>
            <div class="modal-buttons" id="modalButtons">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // DATA STRUCTURE
        // ========================================
        // How to modify:
        // - Add/remove dimensions: Update this array and adjust DIMENSION_COUNT
        // - Change questions: Update the questions array for each level
        // - Adjust maturity thresholds: Modify getStageLabel function

        const DIMENSION_COUNT = 12;
        const LEVELS_PER_DIMENSION = 4;
        const QUESTIONS_PER_LEVEL = 3;
        const STAGE_LABELS = ['Crawl', 'Walk', 'Run', 'Fly'];

        const dimensions = [
            {
                id: 0,
                short: "Leadership",
                full: "Strategic Vision & Leadership",
                description: "Strategic vision and leadership commitment to AI initiatives across the organization.",
                helpText: "This dimension assesses how AI is incorporated into the organization's strategic planning, the level of executive sponsorship, and the clarity of AI-related goals and objectives.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are individual employees experimenting with AI tools on their own initiative?",
                            "Are there ad-hoc discussions about AI in management meetings?",
                            "Has leadership initiated a review of AI as a topic of potential?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Has leadership defined formal AI priorities, objectives, and timelines?",
                            "Is there a designated executive sponsor or AI steering committee?",
                            "Has the organization allocated budget for AI initiatives?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Does leadership have a comprehensive AI strategy with clear timelines and KPI targets, including ROI and adoption?",
                            "Are AI objectives integrated into departmental and individual performance goals?",
                            "Is there regular executive review of AI initiative progress and outcomes?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Does the board regularly review AI strategy and competitive positioning?",
                            "Are AI capabilities central to the organization's competitive advantage?",
                            "Is there a Chief AI Officer or equivalent C-level position?"
                        ]
                    }
                ]
            },
            {
                id: 1,
                short: "Data",
                full: "Data Engineering & Quality",
                description: "Data infrastructure, quality, governance, and availability for AI applications.",
                helpText: "Evaluates the maturity of data pipelines, data quality management, real-time data availability, and the overall data infrastructure supporting AI initiatives.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are employees using publicly available or manually gathered data?",
                            "Is data primarily stored in siloed spreadsheets or local files?",
                            "Is data quality managed informally or ad-hoc?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Is there a centralized data warehouse or lake?",
                            "Are data quality standards documented and monitored?",
                            "Is data lineage tracked for critical datasets?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Is real-time or near-real-time data available for AI applications?",
                            "Are data pipelines automated with monitoring and alerting?",
                            "Is metadata comprehensively managed across all data assets?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Do automated systems continuously validate and improve data quality?",
                            "Is synthetic data generation used to augment training datasets?",
                            "Are data pipelines self-healing with automatic anomaly detection?"
                        ]
                    }
                ]
            },
            {
                id: 2,
                short: "Tech Platforms",
                full: "Technology Platforms & Infrastructure",
                description: "AI platforms, development infrastructure, and deployment capabilities.",
                helpText: "Assesses the technological foundation for AI, including platforms, tools, infrastructure scalability, and MLOps capabilities.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are employees using consumer-grade AI tools (ChatGPT, Claude, etc.)?",
                            "Is AI experimentation happening on personal devices or accounts?",
                            "Is there no formal AI infrastructure in place?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Has the organization deployed enterprise AI platforms (Microsoft Copilot, etc.)?",
                            "Is there secure API access to AI models for development teams?",
                            "Are development and production environments separated?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Is there a complete MLOps platform with CI/CD pipelines?",
                            "Are model training, testing, and deployment automated?",
                            "Is infrastructure scalable with cloud or hybrid capabilities?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Are AI agents deployed on auto-scaling infrastructure?",
                            "Is there a comprehensive AI orchestration platform managing multiple agents?",
                            "Are models automatically retrained based on performance degradation?"
                        ]
                    }
                ]
            },
            {
                id: 3,
                short: "Observability",
                full: "Controls, Logging, Monitoring",
                description: "Monitoring, logging, performance tracking, and observability of AI systems.",
                helpText: "Measures the ability to track AI usage, monitor performance, maintain audit trails, and gain visibility into AI system operations.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Is AI usage largely untracked or unmonitored?",
                            "Are there no formal logs of AI tool usage?",
                            "Is success measured anecdotally if at all?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are basic usage metrics collected (number of queries, users, etc.)?",
                            "Is there logging of AI system inputs and outputs?",
                            "Are cost and performance metrics tracked in dashboards?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Is model performance continuously monitored against KPIs?",
                            "Are comprehensive audit trails maintained for compliance?",
                            "Is there real-time monitoring of model drift and data quality?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Do monitoring systems automatically trigger remediation actions?",
                            "Is there predictive alerting based on trend analysis?",
                            "Are agents self-monitoring with automatic performance optimization?"
                        ]
                    }
                ]
            },
            {
                id: 4,
                short: "Governance",
                full: "Governance",
                description: "AI governance policies, risk management, and regulatory compliance.",
                helpText: "Evaluates governance frameworks, policies, ethical review processes, and compliance mechanisms for AI initiatives.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are there no formal AI usage policies or guidelines?",
                            "Is risk management for AI informal or non-existent?",
                            "Are employees unaware of potential AI-related risks?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are acceptable use policies documented and communicated?",
                            "Is there a risk assessment framework for AI projects?",
                            "Are there approval processes for new AI initiatives?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Is there a formal AI governance board with regular meetings?",
                            "Are all AI projects subject to ethical review and risk assessment?",
                            "Is IP protection systematically managed for AI-generated content?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Are governance policies automatically enforced through technical controls?",
                            "Is there continuous compliance monitoring with automated reporting?",
                            "Does the organization contribute to industry AI governance standards?"
                        ]
                    }
                ]
            },
            {
                id: 5,
                short: "Security",
                full: "Security and Threat Management",
                description: "AI-specific security controls, threat awareness, and protective measures.",
                helpText: "Assesses security practices for AI systems, including data protection, threat detection, and AI-specific vulnerabilities.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are employees potentially sharing sensitive data with public AI tools?",
                            "Is there no awareness of AI-specific security threats?",
                            "Are AI tools used without security review?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are prompt injection and data leakage risks understood and documented?",
                            "Is sensitive data prohibited from being shared with external AI tools?",
                            "Are enterprise AI tools deployed with security configurations?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Are AI assistants deployed with comprehensive security controls?",
                            "Is there continuous monitoring for AI-specific attack vectors?",
                            "Are security assessments mandatory for all AI implementations?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Do AI agents operate within zero-trust security architectures?",
                            "Are AI-powered security tools autonomously detecting and responding to threats?",
                            "Is there real-time threat intelligence specifically for AI systems?"
                        ]
                    }
                ]
            },
            {
                id: 6,
                short: "Team",
                full: "Teams, Talent, Organizational Design",
                description: "AI talent, team structure, and organizational readiness for AI adoption.",
                helpText: "Evaluates the organization's AI talent strategy, team structures, roles, and organizational design to support AI initiatives.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are individuals using AI tools without coordination?",
                            "Is there no dedicated AI talent or roles?",
                            "Is AI expertise limited to a few enthusiasts?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Has the organization hired or designated AI specialists?",
                            "Are there cross-functional AI working groups that meet regularly?",
                            "Is there a forum for sharing AI knowledge and use cases?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Is there a dedicated AI team or center of excellence?",
                            "Are AI champions embedded across business units?",
                            "Is there a clear career path for AI roles?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Is AI expertise distributed throughout the organization?",
                            "Are teams structured around AI agent development and orchestration?",
                            "Is there a talent pipeline through academic partnerships and internships?"
                        ]
                    }
                ]
            },
            {
                id: 7,
                short: "Training",
                full: "Training and Education",
                description: "AI training programs, education initiatives, and knowledge management.",
                helpText: "Measures the breadth and depth of AI training, from basic literacy to advanced certifications and continuous learning.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Is AI training limited to individual self-learning?",
                            "Are employees discovering AI tools on their own?",
                            "Is there no formal AI education program?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Is there firm-wide AI literacy training for all employees?",
                            "Are role-specific AI training programs developed?",
                            "Is there documentation of AI best practices and guidelines?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Is there continuous learning with regular AI training updates?",
                            "Are employees certified in AI tool usage for their roles?",
                            "Is there a knowledge management system for AI practices?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Are external certifications and advanced degrees supported?",
                            "Is there a formal AI academy or university partnership?",
                            "Do employees contribute to AI research and publications?"
                        ]
                    }
                ]
            },
            {
                id: 8,
                short: "Analytics & MLOps",
                full: "Analytics, AI Development & MLOps",
                description: "AI development capabilities, MLOps maturity, and model lifecycle management.",
                helpText: "Evaluates the organization's ability to develop, deploy, and maintain AI models with modern MLOps practices.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Is analytics limited to using pre-built AI tools?",
                            "Is there no custom AI model development?",
                            "Are capabilities limited to prompting existing models?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are analytics teams experimenting with model fine-tuning?",
                            "Is there basic prompt engineering and RAG implementation?",
                            "Are pre-built models integrated into business applications?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Are custom models developed and deployed for specific use cases?",
                            "Is there a complete MLOps pipeline from development to production?",
                            "Are A/B testing and champion/challenger models implemented?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Are AI agents autonomously developing and deploying models?",
                            "Is there automated feature engineering and model selection?",
                            "Do systems automatically optimize across multiple objectives?"
                        ]
                    }
                ]
            },
            {
                id: 9,
                short: "Use Cases",
                full: "Use Cases",
                description: "AI application deployment, use case portfolio, and business impact.",
                helpText: "Assesses the breadth and depth of AI use cases, from individual productivity to autonomous agents handling end-to-end processes.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are AI applications limited to personal productivity?",
                            "Is AI use opportunistic without clear business objectives?",
                            "Are success metrics undefined or not tracked?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are use cases identified and prioritized by business function?",
                            "Is there a documented methodology for selecting AI projects?",
                            "Are pilot projects launched with defined success criteria?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Are AI assistants deployed across multiple business functions?",
                            "Is there a portfolio approach to managing AI projects?",
                            "Are use cases regularly evaluated and optimized?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Are autonomous agents handling end-to-end business processes?",
                            "Is there continuous identification of new automation opportunities?",
                            "Are agents self-optimizing based on performance data?"
                        ]
                    }
                ]
            },
            {
                id: 10,
                short: "External Partnerships",
                full: "External Partnerships",
                description: "External partnerships, vendor relationships, and industry collaboration.",
                helpText: "Assesses strategic partnerships with AI vendors, academic institutions, and industry consortia.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are vendor relationships limited to consumer SaaS subscriptions?",
                            "Is there no formal engagement with AI vendors or partners?",
                            "Is external AI expertise not being leveraged?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are enterprise agreements established with major AI providers?",
                            "Is the organization participating in industry AI forums?",
                            "Are consultants or implementation partners engaged for specific projects?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Are strategic partnerships established with key technology providers?",
                            "Is the organization involved in industry consortia and working groups?",
                            "Are academic partnerships in place for research collaboration?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Is the organization co-developing AI solutions with partners?",
                            "Are there joint ventures or investments in AI startups?",
                            "Does the organization influence partner roadmaps and standards?"
                        ]
                    }
                ]
            },
            {
                id: 11,
                short: "Process Implementation",
                full: "Process Implementation",
                description: "Process integration, change management, and workflow optimization with AI.",
                helpText: "Evaluates how AI is integrated into business processes, from informal usage to fully automated workflows.",
                levels: [
                    {
                        level: 1,
                        name: "Crawl",
                        questions: [
                            "Are AI tools used informally without process integration?",
                            "Are workflows unchanged despite AI availability?",
                            "Is there no documentation of how AI fits into processes?"
                        ]
                    },
                    {
                        level: 2,
                        name: "Walk",
                        questions: [
                            "Are business workflows documented to identify AI opportunities?",
                            "Is there a change management process for AI implementations?",
                            "Are employees trained on new AI-enhanced processes?"
                        ]
                    },
                    {
                        level: 3,
                        name: "Run",
                        questions: [
                            "Are workflows optimized around AI assistant capabilities?",
                            "Is there continuous process improvement driven by AI insights?",
                            "Are standard operating procedures consistently followed?"
                        ]
                    },
                    {
                        level: 4,
                        name: "Fly",
                        questions: [
                            "Are processes fully automated with AI agents handling exceptions?",
                            "Is there dynamic process optimization based on real-time data?",
                            "Are agents autonomously improving workflows?"
                        ]
                    }
                ]
            }
        ];

        // ========================================
        // STATE MANAGEMENT
        // ========================================
        let state = {
            currentDimensionIndex: 0,
            answers: {} // Format: { dimensionId: { level: { questionIndex: value } } }
        };

        // ========================================
        // INITIALIZATION
        // ========================================
        document.addEventListener('DOMContentLoaded', () => {
            initializeState();
            checkForSavedSession();
            initializeChart();
            renderWizardSteps();
            renderQuestionnaire();
            updateAllUI();
            setupKeyboardShortcuts();
        });

        function initializeState() {
            // Initialize answers structure with all questions set to 0
            dimensions.forEach(dim => {
                state.answers[dim.id] = {};
                dim.levels.forEach((level, levelIndex) => {
                    state.answers[dim.id][levelIndex + 1] = {};
                    level.questions.forEach((_, qIndex) => {
                        state.answers[dim.id][levelIndex + 1][qIndex] = 0;
                    });
                });
            });
        }

        // ========================================
        // LOCALSTORAGE MANAGEMENT
        // ========================================
        const STORAGE_KEY = 'ai_maturity_assessment';

        function saveToLocalStorage() {
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
            } catch (e) {
                console.error('Failed to save to localStorage:', e);
            }
        }

        function loadFromLocalStorage() {
            try {
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    state = JSON.parse(saved);
                    return true;
                }
            } catch (e) {
                console.error('Failed to load from localStorage:', e);
            }
            return false;
        }

        function clearLocalStorage() {
            try {
                localStorage.removeItem(STORAGE_KEY);
            } catch (e) {
                console.error('Failed to clear localStorage:', e);
            }
        }

        function checkForSavedSession() {
            const hasSaved = localStorage.getItem(STORAGE_KEY);
            if (hasSaved) {
                showModal(
                    'Welcome Back',
                    'We found a previous assessment. Would you like to continue where you left off?',
                    [
                        { text: 'Continue Previous', onclick: 'continueSession()', primary: true },
                        { text: 'Start New', onclick: 'startNewSession()', primary: false }
                    ]
                );
            }
        }

        function continueSession() {
            loadFromLocalStorage();
            hideModal();
            renderQuestionnaire();
            updateAllUI();
        }

        function startNewSession() {
            clearLocalStorage();
            initializeState();
            hideModal();
            renderQuestionnaire();
            updateAllUI();
        }

        // ========================================
        // MODAL FUNCTIONS
        // ========================================
        function showModal(title, text, buttons) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalText').textContent = text;

            const modalButtons = document.getElementById('modalButtons');
            modalButtons.innerHTML = '';
            buttons.forEach(btn => {
                const button = document.createElement('button');
                button.className = btn.primary ? 'btn-primary' : 'btn-secondary';
                button.textContent = btn.text;
                button.onclick = () => eval(btn.onclick);
                modalButtons.appendChild(button);
            });

            document.getElementById('modalOverlay').classList.add('visible');
        }

        function hideModal() {
            document.getElementById('modalOverlay').classList.remove('visible');
        }

        function showResetModal() {
            showModal(
                'Reset Assessment',
                'Are you sure you want to reset all answers? This action cannot be undone.',
                [
                    { text: 'Reset All', onclick: 'resetAssessment()', primary: false },
                    { text: 'Cancel', onclick: 'hideModal()', primary: true }
                ]
            );
        }

        function resetAssessment() {
            clearLocalStorage();
            initializeState();
            state.currentDimensionIndex = 0;
            hideModal();
            renderQuestionnaire();
            updateAllUI();
        }

        // ========================================
        // CHART INITIALIZATION
        // ========================================
        let radarChart = null;

        function initializeChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: dimensions.map((d, i) => `${i + 1}. ${d.short}`),
                    datasets: [{
                        label: 'Maturity Score',
                        data: new Array(DIMENSION_COUNT).fill(0),
                        fill: true,
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(102, 126, 234, 1)',
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            min: 0,
                            max: 4,
                            ticks: {
                                stepSize: 1,
                                callback: function (value) {
                                    return value === 0 ? '' : value;
                                },
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            pointLabels: {
                                font: {
                                    size: 11,
                                    weight: '600'
                                },
                                color: '#2d3748'
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            angleLines: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    const score = context.parsed.r;
                                    const stage = getStageLabel(score);
                                    return `${dimensions[context.dataIndex].full}: ${score.toFixed(2)} (${stage})`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function updateChart() {
            const scores = dimensions.map(dim => calculateDimensionScore(dim.id));
            radarChart.data.datasets[0].data = scores;
            radarChart.update();
        }

        // ========================================
        // SCORING LOGIC
        // ========================================
        // Scoring system:
        // - Each question contributes: (slider_value / max_slider_value) / n_questions_at_level points
        // - Each level can contribute up to 1.0 point regardless of number of questions
        // - Dimension score = sum across all unlocked levels (max 4.0)
        // - Overall score = average of all dimension scores (max 4.0)
        function calculateDimensionScore(dimensionId) {
            let dimensionScore = 0;
            const MAX_SLIDER_VALUE = 4;
            const dimension = dimensions.find(d => d.id === dimensionId);

            const dimAnswers = state.answers[dimensionId];
            for (let level = 1; level <= LEVELS_PER_DIMENSION; level++) {
                if (!isLevelUnlocked(dimensionId, level)) {
                    break; // Stop at first locked level
                }

                // Calculate this level's contribution
                let levelScore = 0;
                const levelAnswers = dimAnswers[level];
                const levelData = dimension.levels[level - 1];
                const nQuestionsAtLevel = levelData.questions.length;

                for (let qIndex = 0; qIndex < nQuestionsAtLevel; qIndex++) {
                    const answer = levelAnswers[qIndex];
                    // Each question contributes: (slider_value / max_slider) / n_questions
                    // This ensures each level contributes up to 1.0 point
                    levelScore += (answer / MAX_SLIDER_VALUE) / nQuestionsAtLevel;
                }

                dimensionScore += levelScore;
            }

            return dimensionScore;
        }

        function calculateOverallScore() {
            const scores = dimensions.map(dim => calculateDimensionScore(dim.id));
            const sum = scores.reduce((acc, score) => acc + score, 0);
            return sum / DIMENSION_COUNT;
        }

        function getStageLabel(score) {
            // Integer mapping: 1=Crawl, 2=Walk, 3=Run, 4=Fly
            const rounded = Math.round(score);
            if (rounded < 1) return 'Not Started';
            return STAGE_LABELS[rounded - 1] || 'Not Started';
        }

        function getStageClass(score) {
            const rounded = Math.round(score);
            if (rounded < 1) return 'stage-crawl';
            const stages = ['stage-crawl', 'stage-walk', 'stage-run', 'stage-fly'];
            return stages[rounded - 1] || 'stage-crawl';
        }

        // ========================================
        // LEVEL UNLOCKING LOGIC
        // ========================================
        function isLevelUnlocked(dimensionId, level) {
            if (level === 1) return true; // Level 1 always unlocked

            // Check if all questions in previous level are > 3
            const prevLevel = level - 1;
            const prevLevelAnswers = state.answers[dimensionId][prevLevel];
            const dimension = dimensions.find(d => d.id === dimensionId);
            const prevLevelData = dimension.levels[prevLevel - 1];
            const nQuestions = prevLevelData.questions.length;

            for (let qIndex = 0; qIndex < nQuestions; qIndex++) {
                if (prevLevelAnswers[qIndex] <= 3) {
                    return false;
                }
            }

            return true;
        }

        // ========================================
        // QUESTIONNAIRE RENDERING
        // ========================================
        function renderQuestionnaire() {
            const dimension = dimensions[state.currentDimensionIndex];
            const content = document.getElementById('questionnaireContent');

            const dimScore = calculateDimensionScore(dimension.id);
            const overallScore = calculateOverallScore();

            let html = `
                <div class="dimension-header">
                    <div class="dimension-title">${dimension.full}</div>
                    <div class="dimension-description">${dimension.description}</div>
                    <div class="dimension-current-score" id="dimensionCurrentScore">
                        ${dimension.short} score: ${dimScore.toFixed(1)}<br>
                        Overall score: ${overallScore.toFixed(1)}
                    </div>
                    <a class="help-toggle" onclick="toggleHelp()">Show Help ℹ️</a>
                    <div class="help-content" id="helpContent">
                        ${dimension.helpText}
                    </div>
                </div>
            `;

            dimension.levels.forEach((level, levelIndex) => {
                const levelNum = levelIndex + 1;
                const isUnlocked = isLevelUnlocked(dimension.id, levelNum);
                const lockedClass = isUnlocked ? '' : 'locked';
                const statusClass = isUnlocked ? 'status-unlocked' : 'status-locked';
                const statusText = isUnlocked ? 'Unlocked' : 'Locked';

                html += `
                    <div class="level-section level-${levelNum} ${lockedClass}">
                        <div class="level-header">
                            <div class="level-title">Level ${levelNum}: ${level.name}</div>
                            <div class="level-status ${statusClass}">${statusText}</div>
                        </div>
                `;

                level.questions.forEach((question, qIndex) => {
                    const answerId = `dim${dimension.id}_lv${levelNum}_q${qIndex}`;
                    const currentValue = state.answers[dimension.id][levelNum][qIndex];

                    html += `
                        <div class="question-item">
                            <div class="question-text">${question}</div>
                            <div class="slider-wrapper">
                                <div class="slider-container">
                                    <input type="range"
                                           id="${answerId}"
                                           min="0"
                                           max="4"
                                           step="1"
                                           value="${currentValue}"
                                           ${!isUnlocked ? 'disabled' : ''}
                                           onchange="handleAnswerChange(${dimension.id}, ${levelNum}, ${qIndex}, this.value)">
                                    <div class="value-display" id="${answerId}_display">
                                        ${getAnswerLabel(currentValue)}
                                    </div>
                                </div>
                                <div class="slider-ticks">
                                    <span>0</span>
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                </div>
                            </div>
                        </div>
                    `;
                });

                html += `</div>`;
            });

            content.innerHTML = html;
        }

        function getAnswerLabel(value) {
            const labels = [
                'Not at all',
                'Minimal',
                'Developing',
                'Strong',
                'Fully implemented'
            ];
            return `${value} - ${labels[value]}`;
        }

        function updateCurrentScoreDisplay() {
            const dimension = dimensions[state.currentDimensionIndex];
            const dimScore = calculateDimensionScore(dimension.id);
            const overallScore = calculateOverallScore();

            const scoreElement = document.getElementById('dimensionCurrentScore');
            if (scoreElement) {
                scoreElement.innerHTML = `
                    ${dimension.short} score: ${dimScore.toFixed(1)}<br>
                    Overall score: ${overallScore.toFixed(1)}
                `;
            }
        }

        function handleAnswerChange(dimensionId, level, questionIndex, value) {
            state.answers[dimensionId][level][questionIndex] = parseInt(value);

            // Update value display
            const answerId = `dim${dimensionId}_lv${level}_q${questionIndex}`;
            document.getElementById(`${answerId}_display`).textContent = getAnswerLabel(value);

            // Save to localStorage
            saveToLocalStorage();

            // Check if this unlocks the next level
            const nextLevel = level + 1;
            if (nextLevel <= LEVELS_PER_DIMENSION && isLevelUnlocked(dimensionId, nextLevel)) {
                // Re-render to show unlocked level
                renderQuestionnaire();
            } else {
                // Just update the score display without re-rendering everything
                updateCurrentScoreDisplay();
            }

            // Update all UI elements
            updateAllUI();
        }

        function toggleHelp() {
            const helpContent = document.getElementById('helpContent');
            helpContent.classList.toggle('visible');
        }

        // ========================================
        // WIZARD NAVIGATION
        // ========================================
        function renderWizardSteps() {
            const stepsContainer = document.getElementById('wizardSteps');
            let html = '';

            dimensions.forEach((dim, index) => {
                const status = getStepStatus(dim.id);
                html += `
                    <div class="step-indicator ${status} ${index === state.currentDimensionIndex ? 'active' : ''}"
                         onclick="jumpToStep(${index})"
                         title="${dim.full}">
                        ${index + 1}
                    </div>
                `;
            });

            stepsContainer.innerHTML = html;
        }

        function getStepStatus(dimensionId) {
            const dimAnswers = state.answers[dimensionId];
            let hasAnyAnswer = false;
            let allAnswered = true;

            for (let level = 1; level <= LEVELS_PER_DIMENSION; level++) {
                if (!isLevelUnlocked(dimensionId, level)) break;

                const levelAnswers = dimAnswers[level];
                for (let qIndex = 0; qIndex < QUESTIONS_PER_LEVEL; qIndex++) {
                    const answer = levelAnswers[qIndex];
                    if (answer > 0) hasAnyAnswer = true;
                    if (answer === 0) allAnswered = false;
                }
            }

            if (!hasAnyAnswer) return '';
            if (allAnswered) return 'completed';
            return 'in-progress';
        }

        function navigateDimension(direction) {
            const newIndex = state.currentDimensionIndex + direction;
            if (newIndex >= 0 && newIndex < DIMENSION_COUNT) {
                state.currentDimensionIndex = newIndex;
                saveToLocalStorage();
                renderQuestionnaire();
                updateWizardUI();
            }
        }

        function jumpToStep(index) {
            state.currentDimensionIndex = index;
            saveToLocalStorage();
            renderQuestionnaire();
            updateWizardUI();
        }

        function updateWizardUI() {
            const dimension = dimensions[state.currentDimensionIndex];
            document.getElementById('wizardTitle').textContent =
                `${state.currentDimensionIndex + 1} / ${DIMENSION_COUNT}: ${dimension.short}`;

            // Update navigation buttons
            document.getElementById('prevBtn').disabled = state.currentDimensionIndex === 0;
            document.getElementById('nextBtn').disabled = state.currentDimensionIndex === DIMENSION_COUNT - 1;

            // Update progress
            updateProgress();

            // Re-render steps to update active state
            renderWizardSteps();
        }

        function updateProgress() {
            let totalQuestions = 0;
            let answeredQuestions = 0;

            dimensions.forEach(dim => {
                for (let level = 1; level <= LEVELS_PER_DIMENSION; level++) {
                    if (!isLevelUnlocked(dim.id, level)) break;

                    const levelAnswers = state.answers[dim.id][level];
                    for (let qIndex = 0; qIndex < QUESTIONS_PER_LEVEL; qIndex++) {
                        totalQuestions++;
                        if (levelAnswers[qIndex] > 0) {
                            answeredQuestions++;
                        }
                    }
                }
            });

            const percentage = totalQuestions > 0 ? (answeredQuestions / totalQuestions * 100) : 0;
            document.getElementById('progressBar').style.width = `${percentage}%`;
            document.getElementById('progressInfo').textContent = `${Math.round(percentage)}% Complete`;
        }

        // ========================================
        // SUMMARY TABLE
        // ========================================
        function updateSummaryTable() {
            const tbody = document.getElementById('dimensionsTableBody');
            let html = '';

            dimensions.forEach(dim => {
                const score = calculateDimensionScore(dim.id);
                const stage = getStageLabel(score);
                const stageClass = getStageClass(score);

                html += `
                    <tr>
                        <td>${dim.full}</td>
                        <td class="dimension-score">${score.toFixed(2)}</td>
                        <td><span class="score-label ${stageClass}">${stage}</span></td>
                    </tr>
                `;
            });

            tbody.innerHTML = html;
        }

        function updateOverallScore() {
            const overallScore = calculateOverallScore();
            const stage = getStageLabel(overallScore);
            const stageClass = getStageClass(overallScore);

            document.getElementById('overallValue').textContent = overallScore.toFixed(2);
            const labelElement = document.getElementById('overallLabel');
            labelElement.textContent = stage;
            labelElement.className = `score-label ${stageClass}`;
        }

        // ========================================
        // UPDATE ALL UI
        // ========================================
        function updateAllUI() {
            updateChart();
            updateSummaryTable();
            updateOverallScore();
            updateWizardUI();
        }

        // ========================================
        // KEYBOARD SHORTCUTS
        // ========================================
        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                // Ignore if user is typing in an input
                if (e.target.tagName === 'INPUT') return;

                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    navigateDimension(-1);
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    navigateDimension(1);
                }
            });
        }

        // ========================================
        // PRINT / PDF EXPORT
        // ========================================
        function printAssessment() {
            window.print();
        }
    </script>
</body>

</html>